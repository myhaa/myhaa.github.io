<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SPARK</title>
      <link href="/2019/11/14/spark/"/>
      <url>/2019/11/14/spark/</url>
      
        <content type="html"><![CDATA[<h1 id="一、SPARK基础"><a href="#一、SPARK基础" class="headerlink" title="一、SPARK基础"></a>一、SPARK基础</h1><h1 id="二、SPARK进阶"><a href="#二、SPARK进阶" class="headerlink" title="二、SPARK进阶"></a>二、SPARK进阶</h1><h1 id="三、参考书籍"><a href="#三、参考书籍" class="headerlink" title="三、参考书籍"></a>三、参考书籍</h1><h1 id="四、疑难解答"><a href="#四、疑难解答" class="headerlink" title="四、疑难解答"></a>四、疑难解答</h1>]]></content>
      
      
      <categories>
          
          <category> Spark </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spark </tag>
            
            <tag> Markdown </tag>
            
            <tag> Streaming </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>推荐算法笔记</title>
      <link href="/2019/11/13/recommendation-algorithm/"/>
      <url>/2019/11/13/recommendation-algorithm/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、CF-Collaborative-Filtering"><a href="#一、CF-Collaborative-Filtering" class="headerlink" title="一、CF(Collaborative-Filtering)"></a>一、<code>CF(Collaborative-Filtering)</code></h1><p>主要思想：</p><p>协同过滤推荐方法的主要思想是：利用已有用户群过去的行为或意见预测当前用户最可能喜欢哪些东西或对哪些东西感兴趣。</p><h2 id="1、基于用户的协同过滤"><a href="#1、基于用户的协同过滤" class="headerlink" title="1、基于用户的协同过滤"></a>1、基于用户的协同过滤</h2><p>潜在假设：</p><ul><li>如果用户过去有相似的偏好，那么他们未来也会有相似的偏好；</li><li>用户偏好不会随时间而变化</li></ul><p>主要思想：</p><ul><li>首先，给定一个评分数据集和当前用户的ID作为输入，找出与当前用户过去有相似偏好的其他用户；</li><li>然后，对当前用户没有评价过的物品，利用最近邻对物品的评分计算预测值。</li></ul><p>（1）协同推荐的评分数据库（例子1）</p><table><thead><tr><th></th><th>物品1</th><th>物品2</th><th>物品3</th></tr></thead><tbody><tr><td>用户1</td><td>5</td><td>4</td><td>？</td></tr><tr><td>用户2</td><td>3</td><td>4</td><td>5</td></tr><tr><td>用户3</td><td>4</td><td>5</td><td>3</td></tr></tbody></table><p>（2）算法步骤</p><ul><li>利用用户已有的物品评分<code>rate</code>计算用户之间的相似度$sim(a, b)$，相似度计算方法可以是<strong><code>pearson</code>相关系数、改进余弦相似度、<code>spearman</code>秩相关系数、均方差等</strong>。（计算相似度是用两个用户拥有共同行为物品的评分来计算）</li><li>针对要预测的每个用户，选择与其相似度排名最靠前的<code>k</code>个用户对指定物品的评分做加权计算来得到该用户对该物品的评分。</li></ul><p>（3）面临的挑战</p><ul><li>用户量和物品量很大时，算法性能不高</li><li>当需要扫描大量潜在近邻时，很难做到实时计算预测值</li></ul><h2 id="2、基于物品的协同过滤"><a href="#2、基于物品的协同过滤" class="headerlink" title="2、基于物品的协同过滤"></a>2、基于物品的协同过滤</h2><p>主要思想：</p><ul><li>利用物品间的相似度来计算预测值</li></ul><h1 id="二、FM-Factorization-Machine"><a href="#二、FM-Factorization-Machine" class="headerlink" title="二、FM(Factorization Machine)"></a>二、<code>FM(Factorization Machine)</code></h1><h1 id="三、FFM-Field-Factorization-Machine"><a href="#三、FFM-Field-Factorization-Machine" class="headerlink" title="三、FFM(Field Factorization Machine)"></a>三、<code>FFM(Field Factorization Machine)</code></h1><h1 id="四、DEEP-amp-WIDE"><a href="#四、DEEP-amp-WIDE" class="headerlink" title="四、DEEP &amp; WIDE"></a>四、<code>DEEP &amp; WIDE</code></h1><p><a href="#一、`CF(Collaborative-Filtering)`">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>PYTHON笔记</title>
      <link href="/2019/11/13/python/"/>
      <url>/2019/11/13/python/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、PYTHON基础"><a href="#一、PYTHON基础" class="headerlink" title="一、PYTHON基础"></a>一、PYTHON基础</h1><h1 id="二、PYTHON进阶"><a href="#二、PYTHON进阶" class="headerlink" title="二、PYTHON进阶"></a>二、PYTHON进阶</h1><h1 id="三、PYTHON参考书籍"><a href="#三、PYTHON参考书籍" class="headerlink" title="三、PYTHON参考书籍"></a>三、PYTHON参考书籍</h1><h1 id="四、工作常见问题"><a href="#四、工作常见问题" class="headerlink" title="四、工作常见问题"></a>四、工作常见问题</h1><h2 id="1、PYTHON2编码问题"><a href="#1、PYTHON2编码问题" class="headerlink" title="1、PYTHON2编码问题"></a>1、<code>PYTHON2</code>编码问题</h2><ul><li><a href="https://foofish.net/why-python-encoding-is-tricky.html" target="_blank" rel="noopener">参考</a></li></ul><h2 id="2、PYTHON3编码问题"><a href="#2、PYTHON3编码问题" class="headerlink" title="2、PYTHON3编码问题"></a>2、<code>PYTHON3</code>编码问题</h2><ul><li>在<code>Python3</code>版本中，把<code>&#39;xxx&#39;</code>和<code>u&#39;xxx&#39;</code>统一成<code>Unicode</code>编码，即写不写前缀<code>u</code>都是一样的。</li><li>在<code>Python3</code>版本中，所有的字符串都是使用<code>Unicode</code>编码的字符串序列。</li><li><a href="https://foofish.net/how-python3-handle-charset-encoding.html" target="_blank" rel="noopener">参考</a></li></ul><h2 id="3、产生一段时间的日期"><a href="#3、产生一段时间的日期" class="headerlink" title="3、产生一段时间的日期"></a>3、产生一段时间的日期</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime<span class="token punctuation">,</span> date<span class="token punctuation">,</span> timedelta<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pddate_id_list <span class="token operator">=</span> <span class="token punctuation">[</span>datetime<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">'%Y%m%d'</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> list<span class="token punctuation">(</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span>start<span class="token operator">=</span><span class="token string">'20190701'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'20190928'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><a href="#一、PYTHON基础">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LINUX笔记</title>
      <link href="/2019/11/13/linux/"/>
      <url>/2019/11/13/linux/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、Linux基础"><a href="#一、Linux基础" class="headerlink" title="一、Linux基础"></a>一、Linux基础</h1><h1 id="二、工作遇到问题"><a href="#二、工作遇到问题" class="headerlink" title="二、工作遇到问题"></a>二、工作遇到问题</h1><h2 id="1、修改文件或目录的权限"><a href="#1、修改文件或目录的权限" class="headerlink" title="1、修改文件或目录的权限"></a>1、修改文件或目录的权限</h2><p>（1）语法</p><pre class="line-numbers language-shell"><code class="language-shell">chmod [-cfvR] [--help] [--version] mode file...<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>（2）参数说明</p><p><strong>mode :</strong> 权限设定字串，格式如下 :</p><pre class="line-numbers language-shell"><code class="language-shell">[ugoa...][[+-=][rwxX]...][,...]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>其中：</strong></p><ul><li>u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。</li><li>+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。</li><li>r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。</li></ul><p>（3）其他参数说明：</p><ul><li>-c : 若该文件权限确实已经更改，才显示其更改动作</li><li>-f : 若该文件权限无法被更改也不要显示错误讯息</li><li>-v : 显示权限变更的详细资料</li><li>-R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更)</li><li>–help : 显示辅助说明</li><li>–version : 显示版本</li></ul><p>（4）实例</p><pre class="line-numbers language-shell"><code class="language-shell"># 给个人目录的其他用户删除写权限 hadoop fs -chmod -R o-w /user/name/dir<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><a href="#一、Linux基础">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>学习清单</title>
      <link href="/2019/11/13/knowledge-topology/"/>
      <url>/2019/11/13/knowledge-topology/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、实用工具"><a href="#一、实用工具" class="headerlink" title="一、实用工具"></a>一、实用工具</h1><h2 id="编程语言"><a href="#编程语言" class="headerlink" title="编程语言"></a>编程语言</h2><h3 id="C"><a href="#C" class="headerlink" title="C"></a>C</h3><h3 id="C-1"><a href="#C-1" class="headerlink" title="C#"></a>C#</h3><h3 id="C-2"><a href="#C-2" class="headerlink" title="C ++"></a>C ++</h3><h3 id="JAVA"><a href="#JAVA" class="headerlink" title="JAVA"></a>JAVA</h3><p>（1）教程</p><ul><li><a href="https://www.liaoxuefeng.com/wiki/1252599548343744" target="_blank" rel="noopener">廖大神</a></li></ul><p>（2）笔记</p><h3 id="PYTHON"><a href="#PYTHON" class="headerlink" title="PYTHON"></a>PYTHON</h3><h2 id="大数据工具"><a href="#大数据工具" class="headerlink" title="大数据工具"></a>大数据工具</h2><h3 id="查询引擎"><a href="#查询引擎" class="headerlink" title="查询引擎"></a>查询引擎</h3><h4 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h4><h4 id="PIG"><a href="#PIG" class="headerlink" title="PIG"></a>PIG</h4><h4 id="HIVE"><a href="#HIVE" class="headerlink" title="HIVE"></a>HIVE</h4><h4 id="PRESTO"><a href="#PRESTO" class="headerlink" title="PRESTO"></a>PRESTO</h4><h4 id="IMPALA"><a href="#IMPALA" class="headerlink" title="IMPALA"></a>IMPALA</h4><h4 id="SPARK-SQL"><a href="#SPARK-SQL" class="headerlink" title="SPARK SQL"></a>SPARK SQL</h4><h3 id="计算工具"><a href="#计算工具" class="headerlink" title="计算工具"></a>计算工具</h3><h4 id="流式计算"><a href="#流式计算" class="headerlink" title="流式计算"></a>流式计算</h4><h5 id="APACHE-FLINK"><a href="#APACHE-FLINK" class="headerlink" title="APACHE FLINK"></a>APACHE FLINK</h5><h5 id="TWITTER-STORM"><a href="#TWITTER-STORM" class="headerlink" title="TWITTER STORM"></a>TWITTER STORM</h5><h5 id="SPARK-STREAMING"><a href="#SPARK-STREAMING" class="headerlink" title="SPARK STREAMING"></a>SPARK STREAMING</h5><h4 id="迭代计算"><a href="#迭代计算" class="headerlink" title="迭代计算"></a>迭代计算</h4><h5 id="TWISTER"><a href="#TWISTER" class="headerlink" title="TWISTER"></a>TWISTER</h5><h5 id="HALOOP"><a href="#HALOOP" class="headerlink" title="HALOOP"></a>HALOOP</h5><h5 id="APACHE-HAMA"><a href="#APACHE-HAMA" class="headerlink" title="APACHE HAMA"></a>APACHE HAMA</h5><h5 id="SPARK-GRAPHX"><a href="#SPARK-GRAPHX" class="headerlink" title="SPARK GRAPHX"></a>SPARK GRAPHX</h5><h5 id="APACHE-GIRAPH"><a href="#APACHE-GIRAPH" class="headerlink" title="APACHE GIRAPH"></a>APACHE GIRAPH</h5><h4 id="离线计算"><a href="#离线计算" class="headerlink" title="离线计算"></a>离线计算</h4><h5 id="APACHE-FLINK-1"><a href="#APACHE-FLINK-1" class="headerlink" title="APACHE FLINK"></a>APACHE FLINK</h5><h5 id="BERKELEY-SPARK"><a href="#BERKELEY-SPARK" class="headerlink" title="BERKELEY SPARK"></a>BERKELEY SPARK</h5><h5 id="HADOOP-MAPREDUCE"><a href="#HADOOP-MAPREDUCE" class="headerlink" title="HADOOP MAPREDUCE"></a>HADOOP MAPREDUCE</h5><h3 id="存储工具"><a href="#存储工具" class="headerlink" title="存储工具"></a>存储工具</h3><h4 id="KEY-VALUE存储"><a href="#KEY-VALUE存储" class="headerlink" title="KEY-VALUE存储"></a>KEY-VALUE存储</h4><h5 id="REDIS"><a href="#REDIS" class="headerlink" title="REDIS"></a>REDIS</h5><h5 id="HBASE"><a href="#HBASE" class="headerlink" title="HBASE"></a>HBASE</h5><h4 id="文件存储"><a href="#文件存储" class="headerlink" title="文件存储"></a>文件存储</h4><h5 id="HDFS"><a href="#HDFS" class="headerlink" title="HDFS"></a>HDFS</h5><h5 id="MONGODB"><a href="#MONGODB" class="headerlink" title="MONGODB"></a>MONGODB</h5><h3 id="资源管理"><a href="#资源管理" class="headerlink" title="资源管理"></a>资源管理</h3><h4 id="ZOOKEEPER"><a href="#ZOOKEEPER" class="headerlink" title="ZOOKEEPER"></a>ZOOKEEPER</h4><h4 id="HADOOP-YARN"><a href="#HADOOP-YARN" class="headerlink" title="HADOOP YARN"></a>HADOOP YARN</h4><h4 id="TWITTER-MESOS"><a href="#TWITTER-MESOS" class="headerlink" title="TWITTER MESOS"></a>TWITTER MESOS</h4><h3 id="日志收集系统"><a href="#日志收集系统" class="headerlink" title="日志收集系统"></a>日志收集系统</h3><h4 id="KIBANA"><a href="#KIBANA" class="headerlink" title="KIBANA"></a>KIBANA</h4><h4 id="LOGSTASH"><a href="#LOGSTASH" class="headerlink" title="LOGSTASH"></a>LOGSTASH</h4><h4 id="ELASTIC-SEARCH"><a href="#ELASTIC-SEARCH" class="headerlink" title="ELASTIC SEARCH"></a>ELASTIC SEARCH</h4><h4 id="CLOUDERA-FLUME"><a href="#CLOUDERA-FLUME" class="headerlink" title="CLOUDERA FLUME"></a>CLOUDERA FLUME</h4><h3 id="消息系统"><a href="#消息系统" class="headerlink" title="消息系统"></a>消息系统</h3><h4 id="APACHE-KAFKA"><a href="#APACHE-KAFKA" class="headerlink" title="APACHE KAFKA"></a>APACHE KAFKA</h4><h3 id="版本控制工具"><a href="#版本控制工具" class="headerlink" title="版本控制工具"></a>版本控制工具</h3><h4 id="GIT"><a href="#GIT" class="headerlink" title="GIT"></a>GIT</h4><h3 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h3><h4 id="SHELL"><a href="#SHELL" class="headerlink" title="SHELL"></a>SHELL</h4><h1 id="二、算法学习"><a href="#二、算法学习" class="headerlink" title="二、算法学习"></a>二、算法学习</h1><h2 id="推荐算法"><a href="#推荐算法" class="headerlink" title="推荐算法"></a>推荐算法</h2><h3 id="协同过滤"><a href="#协同过滤" class="headerlink" title="协同过滤"></a>协同过滤</h3><h1 id="三、推荐书籍"><a href="#三、推荐书籍" class="headerlink" title="三、推荐书籍"></a>三、推荐书籍</h1><p><a href="#一、实用工具">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>JAVA笔记</title>
      <link href="/2019/11/13/java/"/>
      <url>/2019/11/13/java/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、JAVA基础"><a href="#一、JAVA基础" class="headerlink" title="一、JAVA基础"></a>一、JAVA基础</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h3><ul><li><p><code>JDK</code>：Java Development Kit</p><p>如果只有Java源码，要编译成Java字节码，就需要JDK，因为JDK除了包含JRE，还提供了编译器JAVAC、调试器JDB等开发工具</p></li><li><p><code>JRE</code>：Java Runtime Environment</p><p>JRE就是运行Java字节码的虚拟机</p></li></ul><ul><li><p><code>IDE</code>：Integrated Development Environment </p><p>流行的有：Eclipse、IntelliJ Idea</p></li></ul><h3 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h3><ul><li><a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1280507291631649" target="_blank" rel="noopener">安装链接</a></li></ul><h3 id="安装IDE"><a href="#安装IDE" class="headerlink" title="安装IDE"></a>安装IDE</h3><ul><li><a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener">IntelliJ Idea</a></li></ul><h2 id="程序基础"><a href="#程序基础" class="headerlink" title="程序基础"></a>程序基础</h2><h3 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h3><p>（1）一个完整的JAVA程序。</p><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** * 可以用来自动创建文档的注释 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 向屏幕输出文本:</span>        <span class="token keyword">final</span> <span class="token keyword">double</span> PI <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// PI是一个常量</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">/* 多行注释开始        注释内容        注释结束 */</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// class定义结束</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（2）结构解释</p><ul><li>一个程序的基本单位是<code>class</code>。类名要求必须以英文字母开头，后接字母，数字和下划线的组合，习惯以大写字母开头。</li><li><code>public</code>是访问修饰符，表示该class是公开的。</li><li><code>main</code>是方法名，返回值是<code>void</code>。</li><li>每一行语句后面都要加分号<code>;</code>。</li><li>一个文件顶多一个public类，且类名与文件名一致。</li><li><code>final</code>是常量修饰符。</li></ul><h3 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h3><p>（1）变量定义、赋值示例程序。</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 定义变量n，同时赋值为100</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"n = "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印n的值</span>        n <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 变量n赋值为200</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"n = "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印n的值</span>        <span class="token keyword">int</span> x <span class="token operator">=</span> n<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 变量x赋值为n（n的值为200，因此赋值后x的值也是200）</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"x = "</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印x的值</span>        x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 变量x赋值为x+100（x的值为200，因此赋值后x的值是200+100=300）</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"x = "</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印x的值</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"n = "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 再次打印n的值，n应该是200还是300？200</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（2）基本类型：变量是“持有”某个数值</p><ul><li><p>整数</p><p>byte(8bit)、short(16bit)、int(32bit)、long(64bit)</p></li><li><p>浮点数</p><p>float(32bit)、double(64bit)</p></li><li><p>字符</p><p>char(16bit)</p></li><li><p>布尔</p></li></ul><p>（3）引用类型：变量是“指向”某个对象</p><ol><li><p>字符串</p><p>String</p></li></ol><h3 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h3><p><strong>注意</strong>：由于存在范围限制，如果计算结果超出了范围，就会产生溢出，而溢出<em>不会出错</em>，却会得到一个奇怪的结果</p><p>（1）整数运算</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">+</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">99</span> <span class="token operator">-</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3300</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 23072</span>        n <span class="token operator">++</span><span class="token punctuation">;</span>        n <span class="token operator">--</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>注意</strong>：<code>++n</code>表示先加1再引用n，<code>n++</code>表示先引用n再加1。</p><ul><li><p>整数运算的结果永远是精确的；</p></li><li><p>运算结果会自动提升；例如，<code>short</code>和<code>int</code>计算，结果总是<code>int</code>，原因是<code>short</code>首先自动被转型为<code>int</code>；</p></li><li><p>可以强制转型，但超出范围的强制转型会得到错误的结果；例如，将<code>int</code>强制转型为<code>short</code>；</p></li><li><p>应该选择合适范围的整型（<code>int</code>或<code>long</code>），没有必要为了节省内存而使用<code>byte</code>和<code>short</code>进行整数运算。</p></li><li><p>运算优先级从高到低：</p><ul><li><code>()</code></li><li><code>!</code> <code>~</code> <code>++</code> <code>--</code></li><li><code>*</code> <code>/</code> <code>%</code></li><li><code>+</code> <code>-</code></li><li><code>&lt;&lt;</code> <code>&gt;&gt;</code> <code>&gt;&gt;&gt;</code></li><li><code>&amp;</code> ：与运算，是位运算</li><li><code>|</code> ：或运算</li><li><code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code></li></ul></li></ul><p>（2）浮点数运算</p><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 浮点数误差</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">9.0</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 观察x和y是否相等:</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>浮点数常常无法精确表示，并且浮点数的运算结果可能有误差；</li><li>比较两个浮点数通常比较它们的绝对值之差是否小于一个特定值；</li><li>整型和浮点型运算时，整型会自动提升为浮点型；</li><li>可以将浮点型强制转为整型，但超出范围后将始终返回整型的最大值。</li><li>浮点数运算和整数运算相比，只能进行加减乘除这些数值计算，不能做位运算和移位运算。</li></ul><p>（3）布尔运算</p><ul><li><p>关系运算符优先级从高到低：</p><ul><li><code>!</code></li><li><code>&gt;</code>，<code>&gt;=</code>，<code>&lt;</code>，<code>&lt;=</code></li><li><code>==</code>，<code>!=</code></li><li><code>&amp;&amp;</code></li><li><code>||</code></li></ul></li><li><p>短路运算：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">boolean</span> b <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> result <span class="token operator">=</span> b <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">/</span> <span class="token number">0</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>因为<code>false &amp;&amp; x</code>的结果总是<code>false</code>，无论<code>x</code>是<code>true</code>还是<code>false</code>，因此，与运算在确定第一个值为<code>false</code>后，不再继续计算，而是直接返回<code>false</code>。</li><li>如果没有短路运算，<code>&amp;&amp;</code>后面的表达式会由于除数为<code>0</code>而报错，但实际上该语句并未报错，原因在于与运算是短路运算符，提前计算出了结果<code>false</code>。</li></ul></li><li><p>三元运算符</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> x <span class="token operator">=</span> n <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">?</span> n <span class="token operator">:</span> <span class="token operator">-</span>n<span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="字符和字符串"><a href="#字符和字符串" class="headerlink" title="字符和字符串"></a>字符和字符串</h3><ul><li><p>Java的字符类型<code>char</code>是基本类型，字符串类型<code>String</code>是引用类型；</p></li><li><p>基本类型的变量是“持有”某个数值，引用类型的变量是“指向”某个对象；</p></li><li><p>引用类型的变量可以是空值<code>null</code>；</p></li><li><p>要区分空值<code>null</code>和空字符串<code>&quot;&quot;</code>。</p></li><li><p>可以使用<code>+</code>连接任意字符串和其他数据类型：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>        String s <span class="token operator">=</span> <span class="token string">"age is "</span> <span class="token operator">+</span> age<span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>字符串不可变：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        String s <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>        String t <span class="token operator">=</span> s<span class="token punctuation">;</span>        s <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// t是"hello"还是"world"? "hello"</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="数组类型和操作"><a href="#数组类型和操作" class="headerlink" title="数组类型和操作"></a>数组类型和操作</h3><ul><li><p>数组类型，数组是引用类型</p><p><strong>注意</strong>：这里的<code>s</code>指向了<code>name[1]</code>之后，即将<code>s</code>指向了<code>&quot;XYZ&quot;</code>，这个是不变的字符串常量</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        String<span class="token punctuation">[</span><span class="token punctuation">]</span> names <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"ABC"</span><span class="token punctuation">,</span> <span class="token string">"XYZ"</span><span class="token punctuation">,</span> <span class="token string">"zoo"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        String s <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"cat"</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// s是"XYZ"还是"cat"?  "XYZ" </span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>数组元素可以是值类型（如int）或引用类型（如String），但数组本身是引用类型；</li><li>数组是同一数据类型的集合，数组一旦创建后，大小就不可变；</li><li>可以通过索引访问数组元素，但索引超出范围将报错；</li></ul></li><li><p>数组操作</p><ul><li><p>遍历数组</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">:</span> ns<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>ns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Arrays<span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ns <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>ns<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>数组排序</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Arrays<span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ns <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>ns<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//正序</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>多维数组</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Arrays<span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ns <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">deepToString</span><span class="token punctuation">(</span>ns<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li></ul><h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="输入与输出"><a href="#输入与输出" class="headerlink" title="输入与输出"></a>输入与输出</h3><ul><li><p>输出：<code>System.out.println(&quot;END&quot;);</code></p></li><li><p>格式化输出：<code>System.out.printf(&quot;%.4f\n&quot;, d);</code></p></li><li><p>占位符及说明</p><table><thead><tr><th align="left">占位符</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">%d</td><td align="left">格式化输出整数</td></tr><tr><td align="left">%x</td><td align="left">格式化输出十六进制整数</td></tr><tr><td align="left">%f</td><td align="left">格式化输出浮点数</td></tr><tr><td align="left">%e</td><td align="left">格式化输出科学计数法表示的浮点数</td></tr><tr><td align="left">%s</td><td align="left">格式化字符串</td></tr></tbody></table></li><li><p>输入：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Scanner<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Scanner scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 创建Scanner对象</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Input your name: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印提示</span>        String name <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 读取一行输入并获取字符串</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Input your age: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印提示</span>        <span class="token keyword">int</span> age <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 读取一行输入并获取整数</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hi, %s, you are %d\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 格式化输出</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="IF判断"><a href="#IF判断" class="headerlink" title="IF判断"></a>IF判断</h3><ul><li><p><code>if</code>基本语法：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span>条件<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 条件满足时执行</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>条件<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// </span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>判断浮点数相等时利用差值小于某个临界值来判断：<code>Math.abs(a-b)&lt;0.00001</code></li><li>判断引用类型的变量内容是否相等，必须使用<code>equals()</code>方法：<code>s1.equals(s2)</code></li></ul></li></ul><h3 id="SWITCH多重选择"><a href="#SWITCH多重选择" class="headerlink" title="SWITCH多重选择"></a>SWITCH多重选择</h3><ul><li><p><code>switch</code>语句可以做多重选择，然后执行匹配的<code>case</code>语句后续代码；<code>switch</code>的计算结果必须是整型、字符串或枚举类型；注意千万不要漏写<code>break</code>，建议打开<code>fall-through</code>警告；总是写上<code>default</code>，建议打开<code>missing default</code>警告；<strong>从Java 13开始，<code>switch</code>语句升级为表达式，不再需要<code>break</code>，并且允许使用<code>yield</code>返回值。</strong></p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> option <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>option<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Selected 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Selected 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Selected 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="WHILE循环"><a href="#WHILE循环" class="headerlink" title="WHILE循环"></a>WHILE循环</h3><ul><li><p><code>while</code>基本语法：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">while</span> <span class="token punctuation">(</span>条件表达式<span class="token punctuation">)</span> <span class="token punctuation">{</span>    循环语句<span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 继续执行后续代码</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>do while</code>基本语法：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">do</span> <span class="token punctuation">{</span>    执行循环语句<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>条件表达式<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="FOR循环"><a href="#FOR循环" class="headerlink" title="FOR循环"></a>FOR循环</h3><ul><li><p><code>for</code>循环基本语法：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span>初始条件<span class="token punctuation">;</span> 循环检测条件<span class="token punctuation">;</span> 循环后更新计数器<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 执行语句</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="BREAK-AND-CONTINUE"><a href="#BREAK-AND-CONTINUE" class="headerlink" title="BREAK AND CONTINUE"></a>BREAK AND CONTINUE</h3><ul><li><code>break</code>：在循环过程中，可以使用<code>break</code>语句跳出当前循环</li><li><code>continue</code>：前结束本次循环，直接继续执行下次循环。</li></ul><h1 id="二、JAVA进阶"><a href="#二、JAVA进阶" class="headerlink" title="二、JAVA进阶"></a>二、JAVA进阶</h1><h2 id="面向对象编程基础"><a href="#面向对象编程基础" class="headerlink" title="面向对象编程基础"></a>面向对象编程基础</h2><h3 id="什么是面向对象？"><a href="#什么是面向对象？" class="headerlink" title="什么是面向对象？"></a>什么是面向对象？</h3><ul><li><p>简单来说，人就是一个<strong>对象</strong>，将人身高、年龄等特征封装到人这个对象里，定义人这个类。具体到小明、小芳这些人就被称为<strong>实例</strong>。</p></li><li><p>定义对象</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> String name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>创建实例</p><pre class="line-numbers language-java"><code class="language-java">Person ming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ming<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Xiao Ming"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>指向实例的变量<code>ming</code>是引用变量</li></ul></li></ul><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ul><li><p>方法（<code>method</code>）可以让外部代码安全地访问实例字段（<code>filed</code>）；</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Person ming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ming<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Xiao Ming"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 设置name</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ming<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>    <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>方法是一组执行语句，并且可以执行任意逻辑；</p></li><li><p>方法内部遇到return时返回，void表示不返回任何值（注意和返回null不同）；</p></li><li><p>外部代码通过public方法操作实例，内部代码可以调用private方法；其中<code>this</code>变量是一个隐含变量，通过<code>this.field</code>就可以访问当前实例的字段。</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> birth<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBirth</span><span class="token punctuation">(</span><span class="token keyword">int</span> birth<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>birth <span class="token operator">=</span> birth<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">calcAge</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 调用private方法</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// private方法:</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">calcAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> currentYear<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> currentYear <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>birth<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>理解方法的参数绑定。</p><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 基本类型参数绑定</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Person p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// n的值为15</span>        p<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 传入n的值</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 15</span>        n <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// n的值改为20</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 15还是20?  15</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 引用类型参数绑定</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Person p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        String<span class="token punctuation">[</span><span class="token punctuation">]</span> fullname <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">"Homer"</span><span class="token punctuation">,</span> <span class="token string">"Simpson"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>        p<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>fullname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 传入fullname数组</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Homer Simpson"</span>        fullname<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Bart"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// fullname数组的第一个元素修改为"Bart"</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Homer Simpson"还是"Bart Simpson"?  Bart Simpson</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>基本类型参数的传递，是调用方值的复制。双方各自的后续修改，互不影响。</li><li>引用类型参数的传递，调用方的变量，和接收方的参数变量，指向的是同一个对象。双方任意一方对这个对象的修改，都会影响对方（因为指向同一个对象嘛）。</li></ul></li></ul><h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><ul><li><p>由于构造方法是如此特殊，所以构造方法的名称就是类名。构造方法的参数没有限制，在方法内部，也可以编写任意语句。但是，和普通方法相比，构造方法没有返回值（也没有<code>void</code>），调用构造方法，必须用<code>new</code>操作符。</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Person p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Xiao Ming"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 构造方法</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>如果一个类没有定义构造方法，编译器会自动为我们生成一个默认构造方法，它没有参数，也没有执行语句</p></li><li><p>如果既要能使用带参数的构造方法，又想保留不带参数的构造方法，那么只能把两个构造方法都定义出来：</p></li><li><p>既对字段进行初始化，又在构造方法中对字段进行初始化：</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String name <span class="token operator">=</span> <span class="token string">"Unamed"</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p>多构造方法</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>在通过<code>new</code>操作符调用的时候，编译器通过构造方法的参数数量、位置和类型自动区分</p></li><li><p>一个构造方法可以调用其他构造方法，这样做的目的是便于代码复用。调用其他构造方法的语法是<code>this(…)</code></p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 调用另一个构造方法Person(String, int)</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token string">"Unnamed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 调用另一个构造方法Person(String)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li></ul><h3 id="方法重载"><a href="#方法重载" class="headerlink" title="方法重载"></a>方法重载</h3><ul><li><p>这种方法名相同，但各自的参数不同，称为方法重载（<code>Overload</code>）。</p><p><strong>注意</strong>：方法重载的返回值类型通常都是相同的。</p></li><li><p>重载方法应该完成类似的功能，参考<code>String</code>的<code>indexOf()</code>；</p></li></ul><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><ul><li><p>继承是面向对象编程中非常强大的一种机制，它首先可以复用代码。当我们让<code>Student</code>从<code>Person</code>继承时，<code>Student</code>就获得了<code>Person</code>的所有功能，我们只需要为<code>Student</code>编写新增的功能。</p><p>Java使用<code>extends</code>关键字来实现继承：</p><p><strong>注意</strong>：一定要加<code>super</code>调用父类的构造方法</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Student s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"Xiao Ming"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">protected</span> String name<span class="token punctuation">;</span>    <span class="token keyword">protected</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 继承Person</span><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Student</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 调用父类的构造方法Person(String, int)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="JAVA核心类"><a href="#JAVA核心类" class="headerlink" title="JAVA核心类"></a>JAVA核心类</h2><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><h1 id="三、JAVA参考资料"><a href="#三、JAVA参考资料" class="headerlink" title="三、JAVA参考资料"></a>三、JAVA参考资料</h1><ul><li><a href="https://www.liaoxuefeng.com/wiki/1252599548343744" target="_blank" rel="noopener">廖大神</a></li></ul><h1 id="四、工作常见问题"><a href="#四、工作常见问题" class="headerlink" title="四、工作常见问题"></a>四、工作常见问题</h1><p><a href="#一、JAVA基础">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HEXO创建个人博客</title>
      <link href="/2019/11/13/hexo-blog/"/>
      <url>/2019/11/13/hexo-blog/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、Hexo介绍"><a href="#一、Hexo介绍" class="headerlink" title="一、Hexo介绍"></a>一、<code>Hexo</code>介绍</h1><h2 id="1、官网"><a href="#1、官网" class="headerlink" title="1、官网"></a>1、官网</h2><p><a href="https://hexo.io/zh-cn/index.html" target="_blank" rel="noopener">Hexo</a></p><h2 id="2、安装"><a href="#2、安装" class="headerlink" title="2、安装"></a>2、安装</h2><h3 id="（1）Node-js（Windows）"><a href="#（1）Node-js（Windows）" class="headerlink" title="（1）Node.js（Windows）"></a>（1）Node.js（Windows）</h3><ol><li><p><a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">官网</a>下载对应版本</p></li><li><p>安装选择全部默认（也可以自己设定安装位置）</p></li><li><p>安装完，键盘上<code>Win+R</code>打开命令行，输入以下命令出现版本号即安装成功</p><pre class="line-numbers language-shell"><code class="language-shell">node -vnpm -v<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol><h3 id="（2）Git（Windows）"><a href="#（2）Git（Windows）" class="headerlink" title="（2）Git（Windows）"></a>（2）Git（Windows）</h3><ol><li><p><a href="https://git-scm.com/" target="_blank" rel="noopener">官网</a>下载对应版本</p></li><li><p>安装选择全部默认（也可以自己设定安装位置）</p></li><li><p>最后一步也可以选择<code>Use Git from the Windows Command Prompt</code>，这样就可以命令行打开<code>git</code></p></li><li><p>安装完，命令行输入以下命令出现版本号即安装成功</p><pre class="line-numbers language-shell"><code class="language-shell">git --version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h3 id="（3）Hexo（Windows）"><a href="#（3）Hexo（Windows）" class="headerlink" title="（3）Hexo（Windows）"></a>（3）Hexo（Windows）</h3><ol><li><p>在Windows上选定一个目录作为博客目录，在该目录下右键点击<code>Git Bash Here</code>，接下来使用git控制台进行Hexo的安装</p><pre class="line-numbers language-shell"><code class="language-shell">npm i hexo-cli -ghexo -v  # 验证安装是否成功<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol><h1 id="二、GitHub"><a href="#二、GitHub" class="headerlink" title="二、GitHub"></a>二、GitHub</h1><h2 id="1、官网-1"><a href="#1、官网-1" class="headerlink" title="1、官网"></a>1、官网</h2><p><a href="https://github.com/" target="_blank" rel="noopener">GitHub</a></p><h2 id="2、注册"><a href="#2、注册" class="headerlink" title="2、注册"></a>2、注册</h2><p>官网跟着指引注册就OK</p><h2 id="3、创建博客仓库"><a href="#3、创建博客仓库" class="headerlink" title="3、创建博客仓库"></a>3、创建博客仓库</h2><h3 id="（1）如图操作"><a href="#（1）如图操作" class="headerlink" title="（1）如图操作"></a>（1）如图操作</h3><p><img src="/2019/11/13/hexo-blog/create1.png" alt="图1"></p><p><img src="/2019/11/13/hexo-blog/create2.png" alt="图2"></p><h3 id="（2）注意事项"><a href="#（2）注意事项" class="headerlink" title="（2）注意事项"></a>（2）注意事项</h3><ol><li>第二张图中的第一步yourname一定要跟Owner的名字一样，且一定要加<code>.github.io</code>后缀（至于为什么，我也不得而知）</li></ol><h2 id="4、给仓库选择主题"><a href="#4、给仓库选择主题" class="headerlink" title="4、给仓库选择主题"></a>4、给仓库选择主题</h2><h3 id="（1）如图操作-1"><a href="#（1）如图操作-1" class="headerlink" title="（1）如图操作"></a>（1）如图操作</h3><p><img src="/2019/11/13/hexo-blog/create3.png" alt="图3"></p><p><img src="/2019/11/13/hexo-blog/create4.png" alt="图4"></p><h1 id="三、写博客并发布到GitHub"><a href="#三、写博客并发布到GitHub" class="headerlink" title="三、写博客并发布到GitHub"></a>三、写博客并发布到GitHub</h1><h2 id="1、本地网站配置"><a href="#1、本地网站配置" class="headerlink" title="1、本地网站配置"></a>1、本地网站配置</h2><h3 id="（1）命令如下（在博客目录下）"><a href="#（1）命令如下（在博客目录下）" class="headerlink" title="（1）命令如下（在博客目录下）"></a>（1）命令如下（在博客目录下）</h3><pre class="line-numbers language-shell"><code class="language-shell">hexo init  # 初始化该目录npm install  # 安装必备的组件hexo g  # 生成静态网页hexo s  # 打开本地服务器并复制地址到chrome打开ctrl c  # 关闭本地服务器<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="（2）chrome打开本地网站地址"><a href="#（2）chrome打开本地网站地址" class="headerlink" title="（2）chrome打开本地网站地址"></a>（2）chrome打开本地网站地址</h3><ol><li><a href="http://localhost:4000/" target="_blank" rel="noopener"><a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></a></li></ol><h2 id="2、-写新文章"><a href="#2、-写新文章" class="headerlink" title="2、 写新文章"></a>2、 写新文章</h2><h3 id="（1）命令如下（在博客目录下）-1"><a href="#（1）命令如下（在博客目录下）-1" class="headerlink" title="（1）命令如下（在博客目录下）"></a>（1）命令如下（在博客目录下）</h3><pre class="line-numbers language-shell"><code class="language-shell">npm i hexo-deployer-git  # 安装拓展hexo new post "new md file"  # 新建一篇文章# 修改./source/_posts下的md文件hexo ghexo sctrl c<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3、连接GitHub"><a href="#3、连接GitHub" class="headerlink" title="3、连接GitHub"></a>3、连接GitHub</h2><h3 id="（1）如何配置连接"><a href="#（1）如何配置连接" class="headerlink" title="（1）如何配置连接"></a>（1）如何配置连接</h3><ol><li>详情请见另一篇文章：<a href="/2019/11/13/git/" title="Git">Git</a></li></ol><h3 id="（2）修改配置"><a href="#（2）修改配置" class="headerlink" title="（2）修改配置"></a>（2）修改配置</h3><ol><li><p>命令（在博客目录下）</p><pre class="line-numbers language-shell"><code class="language-shell">vi _config.ymla  # 修改# 如下图修改最后几行Esc  # 退出修改:wq!  # 保存<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>如图</p></li></ol><p><img src="/2019/11/13/hexo-blog/create5.png" alt="图5"></p><ol start="3"><li>注意：修改图中标红的地方就OK，换成你自己的name</li></ol><h3 id="（3）配置全局git-name-and-email"><a href="#（3）配置全局git-name-and-email" class="headerlink" title="（3）配置全局git name and email"></a>（3）配置全局git name and email</h3><pre class="line-numbers language-shell"><code class="language-shell">git config --global user.name "your github name"git config --global user.email "your github private email"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>​    <strong>注意：</strong><code>your github private email</code>怎么配置请看<a href="/2019/11/13/git/" title="Git">Git</a></p><h3 id="（4）发布到GitHub"><a href="#（4）发布到GitHub" class="headerlink" title="（4）发布到GitHub"></a>（4）发布到GitHub</h3><pre class="line-numbers language-shell"><code class="language-shell">hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="（5）同时拥有gitlab-and-github账号时"><a href="#（5）同时拥有gitlab-and-github账号时" class="headerlink" title="（5）同时拥有gitlab and github账号时"></a>（5）同时拥有gitlab and github账号时</h3><ol><li><p>发布完后，将全局git name and email改为gitlab账号</p><pre class="line-numbers language-shell"><code class="language-shell">git config --global user.name "your gitlab name"git config --global user.email "your gitlab private email"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>进入<code>.deploy_git</code>配置局部账号即github账号</p><pre class="line-numbers language-shell"><code class="language-shell">cd .deploy_git  # 根目录下进入.deploy_git# 配置git config --local user.name "your github name"git config --local user.email "your github private email"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>这样配置后，hexo d就是用github账号push，对gitlab push就是用gitlab账号</p></li></ol><h2 id="4、新的文章"><a href="#4、新的文章" class="headerlink" title="4、新的文章"></a>4、新的文章</h2><h3 id="（1）添加新md"><a href="#（1）添加新md" class="headerlink" title="（1）添加新md"></a>（1）添加新md</h3><ol><li><p>在./source/_posts下添加新的md文件</p></li><li><p>使用命令push</p><pre class="line-numbers language-shell"><code class="language-shell">hexo ghexo d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol><h3 id="（2）插入图片"><a href="#（2）插入图片" class="headerlink" title="（2）插入图片"></a>（2）插入图片</h3><ol><li><p>安装插件</p><pre class="line-numbers language-shell"><code class="language-shell">npm install https://github.com/CodeFalling/hexo-asset-image --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><ol start="2"><li><p>修改<code>_config_yml</code>配置</p><pre class="line-numbers language-shell"><code class="language-shell">post_asset_folder: true  # 将false改为true<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>在<code>./source/_posts</code>中新建一个md文件时，同时创建一个与md文件同名的文件夹，该文件夹用来存放该md文件所需图片</p></li><li><p>接着在md文件中以<code>![](/md文件名/1.png)</code>的格式插入图片</p></li><li><p>详细教程请见<a href="http://etrd.org/2017/01/23/hexo中完美插入本地图片/" target="_blank" rel="noopener">ETRD博客</a></p></li></ol><h3 id="（3）插入markdown"><a href="#（3）插入markdown" class="headerlink" title="（3）插入markdown"></a>（3）插入markdown</h3><ol><li><p>Hexo的<a href="https://hexo.io/zh-cn/docs/tag-plugins.html" target="_blank" rel="noopener">标签插件</a></p></li><li><p>引用站内文章</p><pre class="line-numbers language-shell"><code class="language-shell">{% post_path filename %}{% post_link filename [title] [escape] %}{% post_link hexo-3-8-released %} # 链接使用文章的标题<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>在使用此标签时可以忽略文章文件所在的路径或者文章的永久链接信息、如语言、日期。</p><p>例如，在文章中使用 <code></code> 时，只需有一个名为 <code>how-to-bake-a-cake.md</code> 的文章文件即可。即使这个文件位于站点文件夹的 <code>source/posts/2015-02-my-family-holiday</code> 目录下、或者文章的永久链接是 <code>2018/en/how-to-bake-a-cake</code>，都没有影响。</p><p>默认链接文字是文章的标题，你也可以自定义要显示的文本。此时不应该使用 Markdown 语法 <code>[]()</code>。</p><p>默认对文章的标题和自定义标题里的特殊字符进行转义。可以使用<code>escape</code>选项，禁止对特殊字符进行转义。</p></li><li><p><a href="https://www.jibing57.com/2017/10/30/how-to-use-post-link-on-hexo/" target="_blank" rel="noopener">参考链接</a></p></li></ol><h2 id="5、更换主题"><a href="#5、更换主题" class="headerlink" title="5、更换主题"></a>5、更换主题</h2><p><a href="#一、`Hexo`介绍">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop笔记</title>
      <link href="/2019/11/13/hadoop/"/>
      <url>/2019/11/13/hadoop/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、Hadoop介绍"><a href="#一、Hadoop介绍" class="headerlink" title="一、Hadoop介绍"></a>一、<code>Hadoop</code>介绍</h1><h1 id><a href="#" class="headerlink" title></a></h1><p><a href="#一、`Hadoop`介绍">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HIVE笔记</title>
      <link href="/2019/11/13/hive/"/>
      <url>/2019/11/13/hive/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、HIVE基础"><a href="#一、HIVE基础" class="headerlink" title="一、HIVE基础"></a>一、HIVE基础</h1><h2 id="1、HIVE数据类型"><a href="#1、HIVE数据类型" class="headerlink" title="1、HIVE数据类型"></a>1、HIVE数据类型</h2><p>（1）原始类型</p><table><thead><tr><th align="center">类型</th><th align="center">描述</th><th align="center">示例</th></tr></thead><tbody><tr><td align="center"><code>Boolean</code></td><td align="center"><code>true</code>、<code>false</code></td><td align="center"><code>TRUE</code></td></tr><tr><td align="center"><code>TINYINT</code></td><td align="center">-128~127</td><td align="center"><code>1Y</code></td></tr><tr><td align="center"><code>SMALLINT</code></td><td align="center">-32768~32767</td><td align="center"><code>1S</code></td></tr><tr><td align="center"><code>INT</code></td><td align="center">4个字节的带符号整数</td><td align="center">1</td></tr><tr><td align="center"><code>BIGINT</code></td><td align="center">8字节带符号整数</td><td align="center"><code>1L</code></td></tr><tr><td align="center"><code>FLOAT</code></td><td align="center">4字节单精度浮点数</td><td align="center">1.0</td></tr><tr><td align="center"><code>DOUBLE</code></td><td align="center">8字节双精度浮点数</td><td align="center">1.0</td></tr><tr><td align="center"><code>DECIMAL</code></td><td align="center">任意精度的带符号小数</td><td align="center">1.0</td></tr><tr><td align="center"><code>STRING</code></td><td align="center">字符串</td><td align="center"><code>‘ABC’</code></td></tr><tr><td align="center"><code>VARCHAR</code></td><td align="center">长字符串</td><td align="center"></td></tr><tr><td align="center"><code>CHAR</code></td><td align="center">固定长度字符串</td><td align="center"></td></tr><tr><td align="center"><code>BINARY</code></td><td align="center">字节数组</td><td align="center"></td></tr><tr><td align="center"><code>TIMESTAMP</code></td><td align="center">时间戳，纳秒精度</td><td align="center"></td></tr><tr><td align="center"><code>DATE</code></td><td align="center">日期</td><td align="center"><code>2019-10-08</code></td></tr></tbody></table><p>（2）复杂类型</p><table><thead><tr><th align="center">类型</th><th align="center">描述</th><th align="center">示例</th></tr></thead><tbody><tr><td align="center"><code>ARRAY</code></td><td align="center">有序的的同类型的集合</td><td align="center"><code>array(1,2)</code></td></tr><tr><td align="center"><code>MAP</code></td><td align="center">key-value<br>key必须为原始类型，value可以任意类型</td><td align="center"><code>map(‘a’,1,’b’,2)</code></td></tr><tr><td align="center"><code>UNION</code></td><td align="center">在有限取值范围内的一个值</td><td align="center"><code>create_union(1,’a’,63)</code></td></tr><tr><td align="center"><code>STRUCT</code></td><td align="center">字段集合,类型可以不同</td><td align="center"><code>struct(‘1’,1,1.0)</code></td></tr></tbody></table><h2 id="2、HIVE数据库操作"><a href="#2、HIVE数据库操作" class="headerlink" title="2、HIVE数据库操作"></a>2、HIVE数据库操作</h2><p>（1）创建数据库</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 命令CREATE DATABASE|SCHEMA [IF NOT EXISTS] <database name>;-- 例子CREATE DATABASE IF NOT EXISTS database_name;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（2）删除数据库</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 命令DROP DATABASE StatementDROP (DATABASE|SCHEMA) [IF EXISTS] database_name [RESTRICT|CASCADE];-- 例子DROP DATABASE IF EXISTS userdb;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3、HIVE表操作"><a href="#3、HIVE表操作" class="headerlink" title="3、HIVE表操作"></a>3、HIVE表操作</h2><p>（1）创建表</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 命令CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS] [db_name.] table_name[(col_name data_type [COMMENT col_comment], ...)][COMMENT table_comment][ROW FORMAT row_format][STORED AS file_format]-- 例子CREATE TABLE IF NOT EXISTS employee(eid int,  name String, salary String,  destination String)COMMENT ‘Employee details’ROW FORMAT DELIMITEDFIELDS TERMINATED BY ‘\t’LINES TERMINATED BY ‘\n’STORED AS TEXTFILE;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（2）修改表</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 重命名表ALTER TABLE name RENAME TO new_nameALTER TABLE employee RENAME TO emp;-- 添加列ALTER TABLE name ADD COLUMNS (col_spec[, col_spec ...])ALTER TABLE employee ADD COLUMNS (    dept STRING COMMENT 'Department name');-- 删除列ALTER TABLE name DROP [COLUMN] column_name-- 更改列属性ALTER TABLE name CHANGE column_name new_name new_typeALTER TABLE employee CHANGE salary salary Double;-- 替换列ALTER TABLE name REPLACE COLUMNS (col_spec[, col_spec ...])ALTER TABLE employee REPLACE COLUMNS (    eid INT empid Int,    ename STRING name String);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（3）删除表</p><pre class="line-numbers language-mysql"><code class="language-mysql">DROP TABLE [IF EXISTS] table_name;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4、HIVE表数据操作"><a href="#4、HIVE表数据操作" class="headerlink" title="4、HIVE表数据操作"></a>4、HIVE表数据操作</h2><p>（1）插入数据</p><ul><li><code>LOAD DATA</code>：从<code>HDFS</code>中加载数据会直接<code>move</code>！</li></ul><pre class="line-numbers language-mysql"><code class="language-mysql">--命令LOAD DATA [LOCAL] INPATH 'filepath' [OVERWRITE] INTO TABLE tablename [PARTITION (partcol1=val1, partcol2=val2 ...)]--例子LOAD DATA LOCAL INPATH '/home/user/sample.txt' OVERWRITE INTO TABLE employee;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>INSERT INTO</code></li></ul><pre class="line-numbers language-mysql"><code class="language-mysql">insert into table account select id, age, name from account_tmp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><code>INSERT OVERWRITE</code></li></ul><pre class="line-numbers language-mysql"><code class="language-mysql">insert overwrite table account2 select id, age, name from account_tmp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong><em>注意</em></strong>：</p><p><code>insert overwrite</code>会覆盖已经存在的数据，假如原始表使用<code>overwrite</code>上述的数据，先现将原始表的数据<code>remove</code>，再插入新数据。</p><p><code>insert into</code>只是简单的插入，不考虑原始表的数据，直接追加到表中。</p><p>（2）修改数据</p><pre class="line-numbers language-mysql"><code class="language-mysql">UPDATE tablename SET column = value [, column = value ...] [WHERE expression]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>（3）删除数据</p><pre class="line-numbers language-mysql"><code class="language-mysql">DELETE FROM tablename [WHERE expression]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5、HIVE分区操作"><a href="#5、HIVE分区操作" class="headerlink" title="5、HIVE分区操作"></a>5、HIVE分区操作</h2><p>（1）添加分区</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 命令ALTER TABLE table_name ADD [IF NOT EXISTS] PARTITION (p_column = p_col_value, p_column = p_col_value, ...)[LOCATION 'location1'] (p2_column = p2_col_value, p2_column = p2_col_value, ...) [LOCATION 'location2'] ...;-- 例子ALTER TABLE employee ADD PARTITION (year=’2013’) location '/2012/part2012';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（2）重命名分区</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 命令ALTER TABLE table_name PARTITION partition_spec RENAME TO PARTITION partition_spec;-- 例子ALTER TABLE employee PARTITION (year=’1203’) RENAME TO PARTITION (Yoj=’1203’);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（3）删除分区</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 命令ALTER TABLE table_name DROP [IF EXISTS] PARTITION partition_spec, PARTITION partition_spec,...;-- 例子ALTER TABLE employee DROP [IF EXISTS] PARTITION (year=’1203’);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="6、HIVE内置运算符"><a href="#6、HIVE内置运算符" class="headerlink" title="6、HIVE内置运算符"></a>6、HIVE内置运算符</h2><p>（1）关系运算符</p><table><thead><tr><th>运算符</th><th>操作</th><th>描述</th></tr></thead><tbody><tr><td>A = B</td><td>所有基本类型</td><td></td></tr><tr><td>A != B</td><td>所有基本类型</td><td></td></tr><tr><td>A &lt; B</td><td>所有基本类型</td><td></td></tr><tr><td>A &lt;= B</td><td>所有基本类型</td><td></td></tr><tr><td>A &gt; B</td><td>所有基本类型</td><td></td></tr><tr><td>A &gt;= B</td><td>所有基本类型</td><td></td></tr><tr><td>A IS NULL</td><td>所有类型</td><td></td></tr><tr><td>A IS NOT NULL</td><td>所有类型</td><td></td></tr><tr><td>A LIKE B</td><td>字符串</td><td>TRUE，如果字符串模式A匹配到B，<br>否则FALSE。</td></tr><tr><td>A RLIKE B</td><td>字符串</td><td>TRUE：A任何子字符串匹配Java正则表达式B；</td></tr><tr><td>A REGEXP B</td><td>字符串</td><td>等同于RLIKE.</td></tr></tbody></table><p>（2）算术运算符</p><table><thead><tr><th>运算符</th><th>操作</th><th>描述</th></tr></thead><tbody><tr><td>A + B</td><td>所有数字类型</td><td></td></tr><tr><td>A - B</td><td>所有数字类型</td><td></td></tr><tr><td>A * B</td><td>所有数字类型</td><td></td></tr><tr><td>A / B</td><td>所有数字类型</td><td></td></tr><tr><td>A % B</td><td>所有数字类型</td><td></td></tr><tr><td>A &amp; B</td><td>所有数字类型</td><td>A和B的按位与结果</td></tr><tr><td>A | B</td><td>所有数字类型</td><td>A和B的按位或结果</td></tr><tr><td>A ^ B</td><td>所有数字类型</td><td>A和B的按位异或结果</td></tr><tr><td>~ A</td><td>所有数字类型</td><td>A按位非的结果</td></tr></tbody></table><p>（3）逻辑运算符</p><table><thead><tr><th>运算符</th><th>操作</th><th>描述</th></tr></thead><tbody><tr><td>A AND B</td><td>Boolean</td><td>与</td></tr><tr><td>A &amp;&amp; B</td><td>Boolean</td><td></td></tr><tr><td>A OR B</td><td>Boolean</td><td>或</td></tr><tr><td>A || B</td><td>Boolean</td><td></td></tr><tr><td>NOT A</td><td>Boolean</td><td>非</td></tr><tr><td>! A</td><td>Boolean</td><td></td></tr></tbody></table><p>（4）复杂运算符</p><table><thead><tr><th>运算符</th><th>操作</th><th>描述</th></tr></thead><tbody><tr><td>A[n]</td><td>A是一个数组，n是一个int</td><td>它返回数组A的第n+1个元素，第一个元素的索引0。</td></tr><tr><td>M[Key]</td><td>M 是一个 Map&lt;K, V&gt; 并 key 的类型为K</td><td>它返回对应于映射中关键字的值。</td></tr><tr><td>S.x</td><td>S 是一个结构</td><td>它返回S的s字段</td></tr></tbody></table><h2 id="7、HIVE内置函数"><a href="#7、HIVE内置函数" class="headerlink" title="7、HIVE内置函数"></a>7、HIVE内置函数</h2><pre class="line-numbers language-mysql"><code class="language-mysql">-- 返回BIGINT最近的double值。round(double a)-- 返回最大BIGINT值等于或小于double。floor(double a)-- 它返回最小BIGINT值等于或大于double。ceil(double a)-- 它返回一个随机数，从行改变到行。rand()rand(int seed)-- 它返回从A后串联B产生的字符串concat(string A, string B, ...)-- 它返回一个起始位置start到A结束的子字符串substr(string A, int start)-- 返回从给定长度length的从起始位置start开始的字符串。substr(string A, int start, int length)-- 它返回转换所有字符为大写的字符串。upper(string A)ucase(string A)-- 它返回转换所有字符为小写的字符串。lower(string A)lcase(string A)-- 它返回字符串从A两端修剪空格的结果trim(string A)-- 它返回从A左边开始修整空格产生的字符串(左手侧)ltrim(string A)-- 它返回从A右边开始修整空格产生的字符串(右侧)rtrim(string A)-- 它返回将A中的子字符串B替换为C的全新字符串regexp_replace(string A, string B, string C)-- 它返回在映射类型或数组类型的元素的数量。size(Map<K.V>)size(Array<T>)-- 将字段expr的数据类型转换为type。如果转换不成功，返回的是NULL。cast(<expr> as <type>)-- 将10位的时间戳值unixtime转为日期函数from_unixtime(int unixtime, 'yyyy-MM-dd HH:mm:ss')-- 返回一个字符串时间戳的日期部分：to_date("1970-01-01 00:00:00") = "1970-01-01"to_date(string timestamp, 'yyyy-MM-dd')-- 返回指定日期的unix时间戳unix_timestamp(string date, 'yyyy-MM-dd HH:mm:ss')  -- date的形式必须为’yyyy-MM-dd HH:mm:ss’的形式unix_timestamp()  -- 返回当前时间的unix时间戳-- 返回时间字段中的年月日year(string date, 'yyMMdd')  -- 年month(string date, 'yyMMdd')  -- 月day(string date, 'yyMMdd')  -- 日-- 返回时间字段是本年的第多少周weekofyear(string date, 'yyMMdd')-- 返回enddate与begindate之间的时间差的天数datediff(string enddate,string begindate)select datediff(‘2016-06-01’,’2016-05-01’) from hive_sum limit 1;-- 返回date增加days天后的日期date_add(string date,int days)-- 返回date减少days天后的日期date_sub(string date,int days)-- 提取从基于指定的JSON路径的JSON字符串JSON对象，并返回提取的JSON字符串的JSON对象。get_json_object(string json_string, string path)-- 返回检索行的总数。count(*)count(expr)-- 返回该组或该组中的列的不同值的分组和所有元素的总和。sum(col)sum(DISTINCT col)-- 返回上述组或该组中的列的不同值的元素的平均值。avg(col)avg(DISTINCT col)-- 返回该组中的列的最大最小值。min(col)max(col)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8、HIVE视图和索引"><a href="#8、HIVE视图和索引" class="headerlink" title="8、HIVE视图和索引"></a>8、HIVE视图和索引</h2><p>（1）创建视图</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 命令CREATE VIEW [IF NOT EXISTS] view_name [(column_name [COMMENT column_comment], ...) ][COMMENT table_comment]AS SELECT ...-- 例子CREATE VIEW emp_30000 ASSELECT * FROM employeeWHERE salary>30000;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（2）删除视图</p><pre class="line-numbers language-mysql"><code class="language-mysql">DROP VIEW view_name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>（3）创建索引</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 命令CREATE INDEX index_nameON TABLE base_table_name (col_name, ...)AS 'index.handler.class.name'[WITH DEFERRED REBUILD][IDXPROPERTIES (property_name=property_value, ...)][IN TABLE index_table_name][PARTITIONED BY (col_name, ...)][   [ ROW FORMAT ...] STORED AS ...   | STORED BY ...][LOCATION hdfs_path][TBLPROPERTIES (...)]-- 例子：使用字段 Id, Name, Salary, Designation, 和 Dept创建一个名为index_salary的索引，对employee 表的salary列索引。CREATE INDEX inedx_salary ON TABLE employee(salary)AS 'org.apache.hadoop.hive.ql.index.compact.CompactIndexHandler';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>（4）删除索引</p><pre class="line-numbers language-mysql"><code class="language-mysql">DROP INDEX <index_name> ON <table_name><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="二、HIVE进阶"><a href="#二、HIVE进阶" class="headerlink" title="二、HIVE进阶"></a>二、HIVE进阶</h1><h2 id="1、HIVE-SELECT-数据"><a href="#1、HIVE-SELECT-数据" class="headerlink" title="1、HIVE SELECT 数据"></a>1、HIVE SELECT 数据</h2><pre class="line-numbers language-mysql"><code class="language-mysql">SELECT [ALL | DISTINCT] select_expr, select_expr, ... FROM table_reference [WHERE where_condition] [GROUP BY col_list] [HAVING having_condition] [CLUSTER BY col_list | [DISTRIBUTE BY col_list] [SORT BY col_list]] [ORDER BY col_list][LIMIT number];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2、命令执行顺序"><a href="#2、命令执行顺序" class="headerlink" title="2、命令执行顺序"></a>2、命令执行顺序</h2><pre class="line-numbers language-mysql"><code class="language-mysql">-- 大致顺序from... where.... select... group by... having ... order by...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>备注：</strong>hive语句和mysql都可以通过explain查看执行计划，使用explain + hive语句</p><h1 id="三、HIVE参考书籍"><a href="#三、HIVE参考书籍" class="headerlink" title="三、HIVE参考书籍"></a>三、HIVE参考书籍</h1><ul><li><a href="https://www.yiibai.com/hive/" target="_blank" rel="noopener">易百教程</a></li></ul><h1 id="四、工作常见问题"><a href="#四、工作常见问题" class="headerlink" title="四、工作常见问题"></a>四、工作常见问题</h1><h2 id="1、HIVE-在指定位置添加字段"><a href="#1、HIVE-在指定位置添加字段" class="headerlink" title="1、HIVE 在指定位置添加字段"></a>1、HIVE 在指定位置添加字段</h2><ul><li><p>首先添加字段</p><pre class="line-numbers language-mysql"><code class="language-mysql">alter table table_name add columns (c_time string comment '当前时间');<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>其次更改字段的顺序</p><pre class="line-numbers language-mysql"><code class="language-mysql">alter table table_name change c_time c_time string after address;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="2、HIVE创建表时指定文件格式"><a href="#2、HIVE创建表时指定文件格式" class="headerlink" title="2、HIVE创建表时指定文件格式"></a>2、HIVE创建表时指定文件格式</h2><ul><li><p><strong>TEXTFIEL</strong></p><p>默认格式，数据不做压缩，磁盘开销大，数据解析开销大。<br>可结合Gzip、Bzip2使用（系统自动检查，执行查询时自动解压），但使用这种方式，hive不会对数据进行切分，从而无法对数据进行并行操作。</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 固定格式create table test1(str STRING)  STORED AS TEXTFILE;-- 自定义格式create table test1(str STRING)  STORED ASINPUTFORMAT 'org.apache.hadoop.mapred.TextInputFormat'OUTPUTFORMAT 'org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>SEQUENCEFILE</strong></p><p>SequenceFile是Hadoop API提供的一种二进制文件支持，其具有使用方便、可分割、可压缩的特点。<br>SequenceFile支持三种压缩选择：NONE, RECORD, BLOCK。 Record压缩率低，一般建议使用BLOCK压缩。</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 固定格式create table test1(str STRING)  STORED AS SEQUENCEFILE;-- 自定义格式create table test1(str STRING)  STORED ASINPUTFORMAT 'org.apache.hadoop.mapred.SequenceFileInputFormat'OUTPUTFORMAT 'org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>RCFILE</strong></p><p>RCFILE是一种行列存储相结合的存储方式。首先，其将数据按行分块，保证同一个record在一个块上，避免读一个记录需要读取多个block。其次，块数据列式存储，有利于数据压缩和快速的列存取。</p><pre class="line-numbers language-mysql"><code class="language-mysql">-- 固定格式create table test1(str STRING)  STORED AS RCFILE;-- 自定义格式create table test1(str STRING)  STORED ASINPUTFORMAT 'org.apache.hadoop.hive.ql.io.RCFileInputFormat'OUTPUTFORMAT 'org.apache.hadoop.hive.ql.io.RCFileOutputFormat'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="3、HIVE同时拆分多列为多行，链接"><a href="#3、HIVE同时拆分多列为多行，链接" class="headerlink" title="3、HIVE同时拆分多列为多行，链接"></a>3、HIVE同时拆分多列为多行，<a href="https://stackoverflow.com/questions/37585638/hive-split-delimited-columns-over-multiple-rows-select-based-on-position?rq=1" target="_blank" rel="noopener">链接</a></h2><p><strong>问题：</strong></p><p>I’m Looking for a way to split the column based on comma delimited data. Below is my dataset</p><pre class="line-numbers language-mysql"><code class="language-mysql">id  col1  col21   5,6   7,8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>I want to get the result</p><pre class="line-numbers language-mysql"><code class="language-mysql">id col1 col21  5    71  6    8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>答案：</strong></p><p>You can use <code>posexplode()</code> to create position index columns for your split arrays. Then, select only those rows where the position indices are equal.</p><pre><code>SELECT id, col3, col4  FROM test  lateral VIEW posexplode(split(col1,&#39;\002&#39;)) col1 AS pos3, col3  lateral VIEW posexplode(split(col2,&#39;\002&#39;)) col2 AS pos4, col4  WHERE pos3 = pos4;</code></pre><p>Output:</p><pre><code>id col3 col41  5    71  6    8</code></pre><h2 id="4、-Hive或spark中执行sql字符常量包含-时会报错"><a href="#4、-Hive或spark中执行sql字符常量包含-时会报错" class="headerlink" title="4、 Hive或spark中执行sql字符常量包含;时会报错"></a>4、 Hive或spark中执行sql字符常量包含<code>;</code>时会报错</h2><p>比如</p><blockquote><p>select instr(‘abc;abc’, ‘;’);</p></blockquote><p>报错</p><blockquote><p>NoViableAltException(-1@[147:1: selectExpression : ( expression | tableAllColumns );])</p></blockquote><p><strong>修改：</strong>需要将<code>;</code>改为<code>ascii</code></p><blockquote><p>select instr(‘abc\073abc’, ‘\073’);</p></blockquote><p><a href="#一、HIVE基础">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Git笔记</title>
      <link href="/2019/11/13/git/"/>
      <url>/2019/11/13/git/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、Git介绍"><a href="#一、Git介绍" class="headerlink" title="一、Git介绍"></a>一、<code>Git</code>介绍</h1><p><a href="#一、`Git`介绍">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>计算广告笔记</title>
      <link href="/2019/11/13/computational-advertising/"/>
      <url>/2019/11/13/computational-advertising/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="一、名词解释"><a href="#一、名词解释" class="headerlink" title="一、名词解释"></a>一、名词解释</h1><h2 id="广告主"><a href="#广告主" class="headerlink" title="广告主"></a>广告主</h2><p>有广告需求的客户公司，也称为需求方</p><h2 id="媒体"><a href="#媒体" class="headerlink" title="媒体"></a>媒体</h2><p>可以是网站或者<code>app</code>，即有多余的广告位可以出售，也称为供给方</p><h2 id="RTB：（Real-Time-Bidding，实时竞价）"><a href="#RTB：（Real-Time-Bidding，实时竞价）" class="headerlink" title="RTB：（Real Time Bidding，实时竞价）"></a><code>RTB</code>：（<code>Real Time Bidding</code>，实时竞价）</h2><p>综合利用算法、大数据技术在网站或移动应用上对在线的流量实时评估价值，然后出价的竞价技术</p><h2 id="DSP（需求方平台）"><a href="#DSP（需求方平台）" class="headerlink" title="DSP（需求方平台）"></a><code>DSP</code>（需求方平台）</h2><p>为各广告主或者代理商提供实时竞价投放平台，可以在该平台上管理广告活动及其投放策略，并且通过技术和算法优化投放效果，从中获得收益</p><h2 id="SSP（供应方平台）"><a href="#SSP（供应方平台）" class="headerlink" title="SSP（供应方平台）"></a><code>SSP</code>（供应方平台）</h2><p>为各媒体提供一致、集成的广告位库存管理环境</p><h2 id="DMP（数据管理平台）"><a href="#DMP（数据管理平台）" class="headerlink" title="DMP（数据管理平台）"></a><code>DMP</code>（数据管理平台）</h2><p>整合各方数据并提供数据分析，数据管理、数据调用等，用来指导广告主进行广告优化和投放决策</p><h2 id="ADX（Ad-Exchange，广告交易平台）"><a href="#ADX（Ad-Exchange，广告交易平台）" class="headerlink" title="ADX（Ad Exchange，广告交易平台）"></a><code>ADX</code>（Ad Exchange，广告交易平台）</h2><p>同时接入了大量的<code>DSP</code>和<code>SSP</code>，给双方提供一个“交易场所”，将<code>SSP</code>方的广告展示需求以拍卖的方式卖给<code>DSP</code>方。可以类比于股票交易中的证券大厅角色</p><h2 id="CTR（点击率）"><a href="#CTR（点击率）" class="headerlink" title="CTR（点击率）"></a><code>CTR</code>（点击率）</h2><p>广告点击与广告展现的比例，这是广告主、各大<code>DSP</code>厂商都非常重视的一个数字，从技术角度看，这一数字可以影响到广告的排序、出价等环节，从业务来看，这是运营人员的考核指标之一</p><h2 id="CVR（转化率）"><a href="#CVR（转化率）" class="headerlink" title="CVR（转化率）"></a><code>CVR</code>（转化率）</h2><p>转化（主要由广告主定义，可以是一次下单或是一次下载<code>app</code>等）次数与到达次数的比例</p><h2 id="eCPM（千次展示期望收入）"><a href="#eCPM（千次展示期望收入）" class="headerlink" title="eCPM（千次展示期望收入）"></a><code>eCPM</code>（千次展示期望收入）</h2><p>点击率 * 点击价值，这个数字在计算广告中是核心指标，涉及到对召回广告的排序策略，以及最终出价策略</p><h2 id="CPM（Cost-per-mile）"><a href="#CPM（Cost-per-mile）" class="headerlink" title="CPM（Cost per mile）"></a><code>CPM</code>（Cost per mile）</h2><p>每千次展现收费，最常见的广告模式，即不考虑点击次数、转化次数，只要广告在网站上被展现给一千个人看到就收费，是大型网站变现的最有效的方式。对广告主来说，适合于注重推广品牌的广告，力求最快最广的触及大众</p><h2 id="CPC（Cost-per-click）"><a href="#CPC（Cost-per-click）" class="headerlink" title="CPC（Cost per click）"></a><code>CPC</code>（Cost per click）</h2><p>每次点击收费，无论广告被展现了多少次，只要没有产生点击就不收费。对于广告主来说选择 <code>CPC</code> 模式可以有助于提升点击量、发现潜在用户，进而可以真正做到精准营销；对于广大<code>DSP</code>厂商来说，这种收费模式也是获取利润的最有效来源之一</p><h2 id="CPA（Cost-per-action）"><a href="#CPA（Cost-per-action）" class="headerlink" title="CPA（Cost per action）"></a><code>CPA</code>（Cost per action）</h2><p>每次动作收费，此处的动作一般定义为转化，可以是注册、咨询、交易、下载、留言等等，按照转化的数量来收费。对于广告主来说，这是性价比较高的一种收费方式，但是对于DPS和媒体方来说，想要把这种收费做好，却是有相当的难度。因此，目前也只有大厂或者技术实力深厚的<code>DSP</code>厂商才有能力接这种单子</p><h1 id="二、竞价流程"><a href="#二、竞价流程" class="headerlink" title="二、竞价流程"></a>二、竞价流程</h1><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><ol><li>用户通过浏览器访问网站</li><li>浏览器发送广告请求给网站服务器，即<code>SSP</code>方</li><li><code>SSP</code>将广告展示需求发送给<code>Adx</code></li><li><code>Adx</code>组织一次竞价，将本次的竞价请求通知给所有<code>DSP</code>方，并传输用户<code>ID</code>、用户<code>IP</code>以及广告位信息等等</li><li>各家<code>DSP</code>监听服务收到<code>Adx</code>发来的竞价请求后，根据发送来的当前用户的信息、上下文信息、代理的广告主信息对照投放需求，评估该请求</li><li>各家<code>DSP</code>将根据评估结果决定是否参与出价，若参与，则将出价结果通知<code>Adx</code></li><li><code>Adx</code>收到所有出价响应后根据出价排序，通知出价最高的<code>DSP</code>胜出，同时将胜者的竞价信息告知<code>SSP</code></li><li>胜者<code>DSP</code>会收到<code>Adx</code>发送的竞价消息（<code>WinNotice</code>），表示该次展现已经竞价成功。<code>DSP</code>此时将广告物料传送至浏览器展示。至此，一次完整的竞价流程就完成了。</li></ol><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>有两点需要说明：</p><ol><li>以上流程需在100毫秒之内完成，也就是一眨眼的功夫都不到，这样才能让访问网站的用户马上看到广告。</li><li>虽然竞价最后的胜者是出价最高的<code>DSP</code>，但其实际支付的价格是出价第二高的报价再加上一个最小值，这就是著名的广义二阶拍卖(<code>GSP</code>)。这种定价模式的好处主要是为了避免各家<code>DSP</code>在多次竞价中，下一次的出价只需比上一次的胜出价格高一点点即可，从而导致出价越来越低。在<code>GSP</code>模式下，每个胜者只需要支付次高出价的金额，这样各家<code>DSP</code>也就没有动力相互压价。<code>GSP</code>是一种稳定的竞价方式，可操作性很强，现阶段几乎所有的互联网广告平台都使用这一种竞价方式。</li></ol><h1 id="三、技术细节"><a href="#三、技术细节" class="headerlink" title="三、技术细节"></a>三、技术细节</h1><h2 id="典型广告系统架构"><a href="#典型广告系统架构" class="headerlink" title="典型广告系统架构"></a>典型广告系统架构</h2><p><strong>（1）受众定向平台：</strong>利用数据挖掘、机器学习等技术进行受众定向、点击率预估等工作。具体可以细分为以下几个模块：</p><ul><li><strong>会话日志生成（Session log generation）</strong>：从各个数据平台收集日志，并最终根据用户ID为主键汇集成一份统一存储格式的日志，为后续的数据分析、算法构建提供数据来源。</li><li><strong>行为定向（Audience targeting）</strong>：从会话日志中提取数据，利用数据挖掘、机器学习等算法建模，刻画出用户的行为模式、兴趣点等，最终为用户打上结构化标签，以供广告定向投放使用。</li><li><strong>点击率建模（Click modeling）</strong>：从会话日志中提取预定义的特征，训练点击率模型，加载到缓存中供线上投放系统决策时使用。</li><li><strong>商业智能模块（Business Intelligence）</strong>：包括ETL（Extract-Transform-Load）过程、Dashboard、cube。BI系统可以为决策者提供直观且即时的数据分析，而算法对决策者来说相当于黑盒，因此，设计一个良好的BI系统可以为决策提供有力的帮助。</li></ul><p><strong>（2）高并发的投送系统</strong>：即在线的广告投放机（Ad server），主要任务是与各模块交互，将它们串联起来完成在线的广告投放决策。特点是高并发，要做到10 ms级别的实时决策，百亿次/天的广告投放系统。具体可细分为以下几个模块：</p><ul><li><strong>广告检索（Ad retrieval）</strong>：也称为广告召回，即根据用户属性以及页面上下文属性从广告索引（Ad index）中查找符合条件的广告候选。</li><li><strong>广告排序（Ad ranking）</strong>：主要功能是对广告检索模块送来的广告候选集计算eCPM，并按照值的大小倒排。eCPM的计算依赖于受众定向平台离线计算好的点击率。由于最终投放出的广告都是来自于排序的结果，因此这一模块也是至关重要，成为各种算法模型和策略大展身手的地方。</li><li><strong>收益管理（Yield management）</strong>：将局部广告排序的结果进一步优化，以做到全局最优收益。</li></ul><p><strong>（3）数据高速公路：</strong>联通在线与离线。作用是准实时地将日志推送到其它平台上，一是快速地反馈到线上系统中，二是给BI人员快速看结果。它还可能收集其它平台的日志，比如搜索广告会收集搜索日志。</p><p><strong>（4）流式计算平台：</strong>主要功能是对在线数据的处理，做到准实时的挖掘和反馈，解决那些离线计算平台无法快速响应的计算问题。具体又可分为：</p><ul><li><strong>实时受众定向（Real-time targeting）</strong>和<strong>实时点击反馈（Real-time click feedback）</strong>：对用户的实时行为进行计算，如实时更新点击率模型、动态调整用户标签，进而更好的适应线上环境。</li><li><strong>计费（Billing）</strong>：该模块掌管着广告系统的“钱袋子”，运行的准确性和稳定性直接影响了系统的收益。在广告投放过程中，经常会遇到投放预算用完的情况，这时计费模块必须及时反应，采取例如通知索引系统暂时将广告下线的办法，避免带来损失。</li><li><strong>反作弊（Anti-spam）</strong>：利用算法和人工规则等实时判断流量来源中是否有作弊流量，并将这部分流量从后续的计价和统计中去掉，是广告业务非常重要的部分。</li></ul><h2 id="硬件"><a href="#硬件" class="headerlink" title="硬件"></a>硬件</h2><p><strong>（1）<code>Hadoop</code>：</strong>详情请见<a href="Hadoop.md">hadoop.md</a></p><p><strong>（2）<code>Spark</code>：</strong>详情请见<a href="Spark.md">Spark.md</a></p><p><strong>（3）<code>Lucene</code>：</strong>详情请见<a href="Lucene.md">Lucene.md</a></p><p><strong>（4）<code>Storm</code>：</strong>详情请见<a href="Storm.md">Storm.md</a></p><p><strong>（5）<code>ZooKeeper</code>：</strong>详情请见<a href="Zookeeper.md">Zookeeper.md</a></p><h2 id="核心算法"><a href="#核心算法" class="headerlink" title="核心算法"></a>核心算法</h2><p>详情请见<a href="https://zhuanlan.zhihu.com/p/60544294" target="_blank" rel="noopener">参考文章</a>核心算法篇</p><h1 id="四、-参考书籍-amp-论文"><a href="#四、-参考书籍-amp-论文" class="headerlink" title="四、 参考书籍&amp;论文"></a>四、 参考书籍&amp;论文</h1><ul><li><p>《计算广告》 刘鹏 / 王超</p></li><li><p><a href="https://zhuanlan.zhihu.com/p/60544294" target="_blank" rel="noopener">计算广告系统算法与架构综述</a></p></li></ul><p><a href="#一、名词解释">回到顶部</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
