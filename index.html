<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Recommendation_algorithm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/12/Recommendation_algorithm/" class="article-date">
  <time datetime="2019-11-12T09:42:41.876Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/12/Recommendation_algorithm/">推荐算法笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一、CF-Collaborative-Filtering"><a href="#一、CF-Collaborative-Filtering" class="headerlink" title="一、CF(Collaborative-Filtering)"></a>一、<code>CF(Collaborative-Filtering)</code></h1><p>主要思想：</p>
<p>协同过滤推荐方法的主要思想是：利用已有用户群过去的行为或意见预测当前用户最可能喜欢哪些东西或对哪些东西感兴趣。</p>
<h2 id="1、基于用户的协同过滤"><a href="#1、基于用户的协同过滤" class="headerlink" title="1、基于用户的协同过滤"></a>1、基于用户的协同过滤</h2><p>潜在假设：</p>
<ul>
<li>如果用户过去有相似的偏好，那么他们未来也会有相似的偏好；</li>
<li>用户偏好不会随时间而变化</li>
</ul>
<p>主要思想：</p>
<ul>
<li>首先，给定一个评分数据集和当前用户的ID作为输入，找出与当前用户过去有相似偏好的其他用户；</li>
<li>然后，对当前用户没有评价过的物品，利用最近邻对物品的评分计算预测值。</li>
</ul>
<p>（1）协同推荐的评分数据库（例子1）</p>
<table>
<thead>
<tr>
<th></th>
<th>物品1</th>
<th>物品2</th>
<th>物品3</th>
</tr>
</thead>
<tbody><tr>
<td>用户1</td>
<td>5</td>
<td>4</td>
<td>？</td>
</tr>
<tr>
<td>用户2</td>
<td>3</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>用户3</td>
<td>4</td>
<td>5</td>
<td>3</td>
</tr>
</tbody></table>
<p>（2）算法步骤</p>
<ul>
<li>利用用户已有的物品评分<code>rate</code>计算用户之间的相似度$sim(a, b)$，相似度计算方法可以是<strong><code>pearson</code>相关系数、改进余弦相似度、<code>spearman</code>秩相关系数、均方差等</strong>。（计算相似度是用两个用户拥有共同行为物品的评分来计算）</li>
<li>针对要预测的每个用户，选择与其相似度排名最靠前的<code>k</code>个用户对指定物品的评分做加权计算来得到该用户对该物品的评分。</li>
</ul>
<p>（3）面临的挑战</p>
<ul>
<li>用户量和物品量很大时，算法性能不高</li>
<li>当需要扫描大量潜在近邻时，很难做到实时计算预测值</li>
</ul>
<h2 id="2、基于物品的协同过滤"><a href="#2、基于物品的协同过滤" class="headerlink" title="2、基于物品的协同过滤"></a>2、基于物品的协同过滤</h2><p>主要思想：</p>
<ul>
<li>利用物品间的相似度来计算预测值</li>
</ul>
<h1 id="二、FM-Factorization-Machine"><a href="#二、FM-Factorization-Machine" class="headerlink" title="二、FM(Factorization Machine)"></a>二、<code>FM(Factorization Machine)</code></h1><h1 id="三、FFM-Field-Factorization-Machine"><a href="#三、FFM-Field-Factorization-Machine" class="headerlink" title="三、FFM(Field Factorization Machine)"></a>三、<code>FFM(Field Factorization Machine)</code></h1><h1 id="四、DEEP-amp-WIDE"><a href="#四、DEEP-amp-WIDE" class="headerlink" title="四、DEEP &amp; WIDE"></a>四、<code>DEEP &amp; WIDE</code></h1><p><a href="#一、`CF(Collaborative-Filtering)`">回到顶部</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/12/Recommendation_algorithm/" data-id="ck2vob2z500033ciydqcla2f5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PYTHON" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/12/PYTHON/" class="article-date">
  <time datetime="2019-11-12T09:42:41.870Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/12/PYTHON/">PYTHON笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一、PYTHON基础"><a href="#一、PYTHON基础" class="headerlink" title="一、PYTHON基础"></a>一、PYTHON基础</h1><h1 id="二、PYTHON进阶"><a href="#二、PYTHON进阶" class="headerlink" title="二、PYTHON进阶"></a>二、PYTHON进阶</h1><h1 id="三、PYTHON参考书籍"><a href="#三、PYTHON参考书籍" class="headerlink" title="三、PYTHON参考书籍"></a>三、PYTHON参考书籍</h1><h1 id="四、工作常见问题"><a href="#四、工作常见问题" class="headerlink" title="四、工作常见问题"></a>四、工作常见问题</h1><h2 id="1、PYTHON2编码问题"><a href="#1、PYTHON2编码问题" class="headerlink" title="1、PYTHON2编码问题"></a>1、<code>PYTHON2</code>编码问题</h2><ul>
<li><a href="https://foofish.net/why-python-encoding-is-tricky.html" target="_blank" rel="noopener">参考</a></li>
</ul>
<h2 id="2、PYTHON3编码问题"><a href="#2、PYTHON3编码问题" class="headerlink" title="2、PYTHON3编码问题"></a>2、<code>PYTHON3</code>编码问题</h2><ul>
<li>在<code>Python3</code>版本中，把<code>&#39;xxx&#39;</code>和<code>u&#39;xxx&#39;</code>统一成<code>Unicode</code>编码，即写不写前缀<code>u</code>都是一样的。</li>
<li>在<code>Python3</code>版本中，所有的字符串都是使用<code>Unicode</code>编码的字符串序列。</li>
<li><a href="https://foofish.net/how-python3-handle-charset-encoding.html" target="_blank" rel="noopener">参考</a></li>
</ul>
<h2 id="3、产生一段时间的日期"><a href="#3、产生一段时间的日期" class="headerlink" title="3、产生一段时间的日期"></a>3、产生一段时间的日期</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, date, timedelta</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">date_id_list = [datetime.strftime(x, <span class="string">'%Y%m%d'</span>) <span class="keyword">for</span> x <span class="keyword">in</span> list(pd.date_range(start=<span class="string">'20190701'</span>, end=<span class="string">'20190928'</span>))]</span><br></pre></td></tr></table></figure>





<p><a href="#一、PYTHON基础">回到顶部</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/12/PYTHON/" data-id="ck2vob2z600043ciya1ga0hhc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-LINUX" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/12/LINUX/" class="article-date">
  <time datetime="2019-11-12T09:42:41.864Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/12/LINUX/">LINUX笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一、Linux基础"><a href="#一、Linux基础" class="headerlink" title="一、Linux基础"></a>一、Linux基础</h1><h1 id="二、工作遇到问题"><a href="#二、工作遇到问题" class="headerlink" title="二、工作遇到问题"></a>二、工作遇到问题</h1><h2 id="1、修改文件或目录的权限"><a href="#1、修改文件或目录的权限" class="headerlink" title="1、修改文件或目录的权限"></a>1、修改文件或目录的权限</h2><p>（1）语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod [-cfvR] [--help] [--version] mode file...</span><br></pre></td></tr></table></figure>

<p>（2）参数说明</p>
<p><strong>mode :</strong> 权限设定字串，格式如下 :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ugoa...][[+-=][rwxX]...][,...]</span><br></pre></td></tr></table></figure>

<p><strong>其中：</strong></p>
<ul>
<li>u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。</li>
<li>+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。</li>
<li>r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。</li>
</ul>
<p>（3）其他参数说明：</p>
<ul>
<li>-c : 若该文件权限确实已经更改，才显示其更改动作</li>
<li>-f : 若该文件权限无法被更改也不要显示错误讯息</li>
<li>-v : 显示权限变更的详细资料</li>
<li>-R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更)</li>
<li>–help : 显示辅助说明</li>
<li>–version : 显示版本</li>
</ul>
<p>（4）实例</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 给个人目录的其他用户删除写权限</span></span><br><span class="line"> hadoop fs -chmod -R o-w /user/name/dir</span><br></pre></td></tr></table></figure>







<p><a href="#一、Linux基础">回到顶部</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/12/LINUX/" data-id="ck2vob2z400023ciye8jdcy80" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Knowledge_Topology" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/12/Knowledge_Topology/" class="article-date">
  <time datetime="2019-11-12T09:42:41.858Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/12/Knowledge_Topology/">学习清单</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一、实用工具"><a href="#一、实用工具" class="headerlink" title="一、实用工具"></a>一、实用工具</h1><h2 id="编程语言"><a href="#编程语言" class="headerlink" title="编程语言"></a>编程语言</h2><h3 id="C"><a href="#C" class="headerlink" title="C"></a>C</h3><h3 id="C-1"><a href="#C-1" class="headerlink" title="C#"></a>C#</h3><h3 id="C-2"><a href="#C-2" class="headerlink" title="C ++"></a>C ++</h3><h3 id="JAVA"><a href="#JAVA" class="headerlink" title="JAVA"></a>JAVA</h3><p>（1）教程</p>
<ul>
<li><a href="https://www.liaoxuefeng.com/wiki/1252599548343744" target="_blank" rel="noopener">廖大神</a></li>
</ul>
<p>（2）笔记</p>
<h3 id="PYTHON"><a href="#PYTHON" class="headerlink" title="PYTHON"></a>PYTHON</h3><h2 id="大数据工具"><a href="#大数据工具" class="headerlink" title="大数据工具"></a>大数据工具</h2><h3 id="查询引擎"><a href="#查询引擎" class="headerlink" title="查询引擎"></a>查询引擎</h3><h4 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h4><h4 id="PIG"><a href="#PIG" class="headerlink" title="PIG"></a>PIG</h4><h4 id="HIVE"><a href="#HIVE" class="headerlink" title="HIVE"></a>HIVE</h4><h4 id="PRESTO"><a href="#PRESTO" class="headerlink" title="PRESTO"></a>PRESTO</h4><h4 id="IMPALA"><a href="#IMPALA" class="headerlink" title="IMPALA"></a>IMPALA</h4><h4 id="SPARK-SQL"><a href="#SPARK-SQL" class="headerlink" title="SPARK SQL"></a>SPARK SQL</h4><h3 id="计算工具"><a href="#计算工具" class="headerlink" title="计算工具"></a>计算工具</h3><h4 id="流式计算"><a href="#流式计算" class="headerlink" title="流式计算"></a>流式计算</h4><h5 id="APACHE-FLINK"><a href="#APACHE-FLINK" class="headerlink" title="APACHE FLINK"></a>APACHE FLINK</h5><h5 id="TWITTER-STORM"><a href="#TWITTER-STORM" class="headerlink" title="TWITTER STORM"></a>TWITTER STORM</h5><h5 id="SPARK-STREAMING"><a href="#SPARK-STREAMING" class="headerlink" title="SPARK STREAMING"></a>SPARK STREAMING</h5><h4 id="迭代计算"><a href="#迭代计算" class="headerlink" title="迭代计算"></a>迭代计算</h4><h5 id="TWISTER"><a href="#TWISTER" class="headerlink" title="TWISTER"></a>TWISTER</h5><h5 id="HALOOP"><a href="#HALOOP" class="headerlink" title="HALOOP"></a>HALOOP</h5><h5 id="APACHE-HAMA"><a href="#APACHE-HAMA" class="headerlink" title="APACHE HAMA"></a>APACHE HAMA</h5><h5 id="SPARK-GRAPHX"><a href="#SPARK-GRAPHX" class="headerlink" title="SPARK GRAPHX"></a>SPARK GRAPHX</h5><h5 id="APACHE-GIRAPH"><a href="#APACHE-GIRAPH" class="headerlink" title="APACHE GIRAPH"></a>APACHE GIRAPH</h5><h4 id="离线计算"><a href="#离线计算" class="headerlink" title="离线计算"></a>离线计算</h4><h5 id="APACHE-FLINK-1"><a href="#APACHE-FLINK-1" class="headerlink" title="APACHE FLINK"></a>APACHE FLINK</h5><h5 id="BERKELEY-SPARK"><a href="#BERKELEY-SPARK" class="headerlink" title="BERKELEY SPARK"></a>BERKELEY SPARK</h5><h5 id="HADOOP-MAPREDUCE"><a href="#HADOOP-MAPREDUCE" class="headerlink" title="HADOOP MAPREDUCE"></a>HADOOP MAPREDUCE</h5><h3 id="存储工具"><a href="#存储工具" class="headerlink" title="存储工具"></a>存储工具</h3><h4 id="KEY-VALUE存储"><a href="#KEY-VALUE存储" class="headerlink" title="KEY-VALUE存储"></a>KEY-VALUE存储</h4><h5 id="REDIS"><a href="#REDIS" class="headerlink" title="REDIS"></a>REDIS</h5><h5 id="HBASE"><a href="#HBASE" class="headerlink" title="HBASE"></a>HBASE</h5><h4 id="文件存储"><a href="#文件存储" class="headerlink" title="文件存储"></a>文件存储</h4><h5 id="HDFS"><a href="#HDFS" class="headerlink" title="HDFS"></a>HDFS</h5><h5 id="MONGODB"><a href="#MONGODB" class="headerlink" title="MONGODB"></a>MONGODB</h5><h3 id="资源管理"><a href="#资源管理" class="headerlink" title="资源管理"></a>资源管理</h3><h4 id="ZOOKEEPER"><a href="#ZOOKEEPER" class="headerlink" title="ZOOKEEPER"></a>ZOOKEEPER</h4><h4 id="HADOOP-YARN"><a href="#HADOOP-YARN" class="headerlink" title="HADOOP YARN"></a>HADOOP YARN</h4><h4 id="TWITTER-MESOS"><a href="#TWITTER-MESOS" class="headerlink" title="TWITTER MESOS"></a>TWITTER MESOS</h4><h3 id="日志收集系统"><a href="#日志收集系统" class="headerlink" title="日志收集系统"></a>日志收集系统</h3><h4 id="KIBANA"><a href="#KIBANA" class="headerlink" title="KIBANA"></a>KIBANA</h4><h4 id="LOGSTASH"><a href="#LOGSTASH" class="headerlink" title="LOGSTASH"></a>LOGSTASH</h4><h4 id="ELASTIC-SEARCH"><a href="#ELASTIC-SEARCH" class="headerlink" title="ELASTIC SEARCH"></a>ELASTIC SEARCH</h4><h4 id="CLOUDERA-FLUME"><a href="#CLOUDERA-FLUME" class="headerlink" title="CLOUDERA FLUME"></a>CLOUDERA FLUME</h4><h3 id="消息系统"><a href="#消息系统" class="headerlink" title="消息系统"></a>消息系统</h3><h4 id="APACHE-KAFKA"><a href="#APACHE-KAFKA" class="headerlink" title="APACHE KAFKA"></a>APACHE KAFKA</h4><h3 id="版本控制工具"><a href="#版本控制工具" class="headerlink" title="版本控制工具"></a>版本控制工具</h3><h4 id="GIT"><a href="#GIT" class="headerlink" title="GIT"></a>GIT</h4><h3 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h3><h4 id="SHELL"><a href="#SHELL" class="headerlink" title="SHELL"></a>SHELL</h4><h1 id="二、算法学习"><a href="#二、算法学习" class="headerlink" title="二、算法学习"></a>二、算法学习</h1><h2 id="推荐算法"><a href="#推荐算法" class="headerlink" title="推荐算法"></a>推荐算法</h2><h3 id="协同过滤"><a href="#协同过滤" class="headerlink" title="协同过滤"></a>协同过滤</h3><h1 id="三、推荐书籍"><a href="#三、推荐书籍" class="headerlink" title="三、推荐书籍"></a>三、推荐书籍</h1><p><a href="#一、实用工具">回到顶部</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/12/Knowledge_Topology/" data-id="ck2vob2z200013ciy7gelgo55" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JAVA" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/12/JAVA/" class="article-date">
  <time datetime="2019-11-12T09:42:41.852Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/12/JAVA/">JAVA笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一、JAVA基础"><a href="#一、JAVA基础" class="headerlink" title="一、JAVA基础"></a>一、JAVA基础</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h3><ul>
<li><p><code>JDK</code>：Java Development Kit</p>
<p>如果只有Java源码，要编译成Java字节码，就需要JDK，因为JDK除了包含JRE，还提供了编译器JAVAC、调试器JDB等开发工具</p>
</li>
<li><p><code>JRE</code>：Java Runtime Environment</p>
<p>JRE就是运行Java字节码的虚拟机</p>
</li>
</ul>
<ul>
<li><p><code>IDE</code>：Integrated Development Environment </p>
<p>流行的有：Eclipse、IntelliJ Idea</p>
</li>
</ul>
<h3 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h3><ul>
<li><a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1280507291631649" target="_blank" rel="noopener">安装链接</a></li>
</ul>
<h3 id="安装IDE"><a href="#安装IDE" class="headerlink" title="安装IDE"></a>安装IDE</h3><ul>
<li><a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener">IntelliJ Idea</a></li>
</ul>
<h2 id="程序基础"><a href="#程序基础" class="headerlink" title="程序基础"></a>程序基础</h2><h3 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h3><p>（1）一个完整的JAVA程序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 可以用来自动创建文档的注释</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 向屏幕输出文本:</span></span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.14</span>; <span class="comment">// PI是一个常量</span></span><br><span class="line">        System.out.println(<span class="string">"Hello, world!"</span>);</span><br><span class="line">        <span class="comment">/* 多行注释开始</span></span><br><span class="line"><span class="comment">        注释内容</span></span><br><span class="line"><span class="comment">        注释结束 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="comment">// class定义结束</span></span><br></pre></td></tr></table></figure>

<p>（2）结构解释</p>
<ul>
<li>一个程序的基本单位是<code>class</code>。类名要求必须以英文字母开头，后接字母，数字和下划线的组合，习惯以大写字母开头。</li>
<li><code>public</code>是访问修饰符，表示该class是公开的。</li>
<li><code>main</code>是方法名，返回值是<code>void</code>。</li>
<li>每一行语句后面都要加分号<code>;</code>。</li>
<li>一个文件顶多一个public类，且类名与文件名一致。</li>
<li><code>final</code>是常量修饰符。</li>
</ul>
<h3 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h3><p>（1）变量定义、赋值示例程序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">100</span>; <span class="comment">// 定义变量n，同时赋值为100</span></span><br><span class="line">        System.out.println(<span class="string">"n = "</span> + n); <span class="comment">// 打印n的值</span></span><br><span class="line"></span><br><span class="line">        n = <span class="number">200</span>; <span class="comment">// 变量n赋值为200</span></span><br><span class="line">        System.out.println(<span class="string">"n = "</span> + n); <span class="comment">// 打印n的值</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> x = n; <span class="comment">// 变量x赋值为n（n的值为200，因此赋值后x的值也是200）</span></span><br><span class="line">        System.out.println(<span class="string">"x = "</span> + x); <span class="comment">// 打印x的值</span></span><br><span class="line"></span><br><span class="line">        x = x + <span class="number">100</span>; <span class="comment">// 变量x赋值为x+100（x的值为200，因此赋值后x的值是200+100=300）</span></span><br><span class="line">        System.out.println(<span class="string">"x = "</span> + x); <span class="comment">// 打印x的值</span></span><br><span class="line">        System.out.println(<span class="string">"n = "</span> + n); <span class="comment">// 再次打印n的值，n应该是200还是300？200</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（2）基本类型：变量是“持有”某个数值</p>
<ul>
<li><p>整数</p>
<p>byte(8bit)、short(16bit)、int(32bit)、long(64bit)</p>
</li>
<li><p>浮点数</p>
<p>float(32bit)、double(64bit)</p>
</li>
<li><p>字符</p>
<p>char(16bit)</p>
</li>
<li><p>布尔</p>
</li>
</ul>
<p>（3）引用类型：变量是“指向”某个对象</p>
<ol>
<li><p>字符串</p>
<p>String</p>
</li>
</ol>
<h3 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h3><p><strong>注意</strong>：由于存在范围限制，如果计算结果超出了范围，就会产生溢出，而溢出<em>不会出错</em>，却会得到一个奇怪的结果</p>
<p>（1）整数运算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = (<span class="number">100</span> + <span class="number">200</span>) * (<span class="number">99</span> - <span class="number">88</span>); <span class="comment">// 3300</span></span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">7</span> * (<span class="number">5</span> + (i - <span class="number">9</span>)); <span class="comment">// 23072</span></span><br><span class="line">        n ++;</span><br><span class="line">        n --;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">        System.out.println(n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：<code>++n</code>表示先加1再引用n，<code>n++</code>表示先引用n再加1。</p>
<ul>
<li><p>整数运算的结果永远是精确的；</p>
</li>
<li><p>运算结果会自动提升；例如，<code>short</code>和<code>int</code>计算，结果总是<code>int</code>，原因是<code>short</code>首先自动被转型为<code>int</code>；</p>
</li>
<li><p>可以强制转型，但超出范围的强制转型会得到错误的结果；例如，将<code>int</code>强制转型为<code>short</code>；</p>
</li>
<li><p>应该选择合适范围的整型（<code>int</code>或<code>long</code>），没有必要为了节省内存而使用<code>byte</code>和<code>short</code>进行整数运算。</p>
</li>
<li><p>运算优先级从高到低：</p>
<ul>
<li><code>()</code></li>
<li><code>!</code> <code>~</code> <code>++</code> <code>--</code></li>
<li><code>*</code> <code>/</code> <code>%</code></li>
<li><code>+</code> <code>-</code></li>
<li><code>&lt;&lt;</code> <code>&gt;&gt;</code> <code>&gt;&gt;&gt;</code></li>
<li><code>&amp;</code> ：与运算，是位运算</li>
<li><code>|</code> ：或运算</li>
<li><code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code></li>
</ul>
</li>
</ul>
<p>（2）浮点数运算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 浮点数误差</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> x = <span class="number">1.0</span> / <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">double</span> y = <span class="number">1</span> - <span class="number">9.0</span> / <span class="number">10</span>;</span><br><span class="line">        <span class="comment">// 观察x和y是否相等:</span></span><br><span class="line">        System.out.println(x);</span><br><span class="line">        System.out.println(y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>浮点数常常无法精确表示，并且浮点数的运算结果可能有误差；</li>
<li>比较两个浮点数通常比较它们的绝对值之差是否小于一个特定值；</li>
<li>整型和浮点型运算时，整型会自动提升为浮点型；</li>
<li>可以将浮点型强制转为整型，但超出范围后将始终返回整型的最大值。</li>
<li>浮点数运算和整数运算相比，只能进行加减乘除这些数值计算，不能做位运算和移位运算。</li>
</ul>
<p>（3）布尔运算</p>
<ul>
<li><p>关系运算符优先级从高到低：</p>
<ul>
<li><code>!</code></li>
<li><code>&gt;</code>，<code>&gt;=</code>，<code>&lt;</code>，<code>&lt;=</code></li>
<li><code>==</code>，<code>!=</code></li>
<li><code>&amp;&amp;</code></li>
<li><code>||</code></li>
</ul>
</li>
<li><p>短路运算：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> b = <span class="number">5</span> &lt; <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">boolean</span> result = b &amp;&amp; (<span class="number">5</span> / <span class="number">0</span> &gt; <span class="number">0</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>因为<code>false &amp;&amp; x</code>的结果总是<code>false</code>，无论<code>x</code>是<code>true</code>还是<code>false</code>，因此，与运算在确定第一个值为<code>false</code>后，不再继续计算，而是直接返回<code>false</code>。</li>
<li>如果没有短路运算，<code>&amp;&amp;</code>后面的表达式会由于除数为<code>0</code>而报错，但实际上该语句并未报错，原因在于与运算是短路运算符，提前计算出了结果<code>false</code>。</li>
</ul>
</li>
<li><p>三元运算符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = -<span class="number">100</span>;</span><br><span class="line">        <span class="keyword">int</span> x = n &gt;= <span class="number">0</span> ? n : -n;</span><br><span class="line">        System.out.println(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="字符和字符串"><a href="#字符和字符串" class="headerlink" title="字符和字符串"></a>字符和字符串</h3><ul>
<li><p>Java的字符类型<code>char</code>是基本类型，字符串类型<code>String</code>是引用类型；</p>
</li>
<li><p>基本类型的变量是“持有”某个数值，引用类型的变量是“指向”某个对象；</p>
</li>
<li><p>引用类型的变量可以是空值<code>null</code>；</p>
</li>
<li><p>要区分空值<code>null</code>和空字符串<code>&quot;&quot;</code>。</p>
</li>
<li><p>可以使用<code>+</code>连接任意字符串和其他数据类型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> age = <span class="number">25</span>;</span><br><span class="line">        String s = <span class="string">"age is "</span> + age;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串不可变：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String s = <span class="string">"hello"</span>;</span><br><span class="line">        String t = s;</span><br><span class="line">        s = <span class="string">"world"</span>;</span><br><span class="line">        System.out.println(t); <span class="comment">// t是"hello"还是"world"? "hello"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="数组类型和操作"><a href="#数组类型和操作" class="headerlink" title="数组类型和操作"></a>数组类型和操作</h3><ul>
<li><p>数组类型，数组是引用类型</p>
<p><strong>注意</strong>：这里的<code>s</code>指向了<code>name[1]</code>之后，即将<code>s</code>指向了<code>&quot;XYZ&quot;</code>，这个是不变的字符串常量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String[] names = &#123;<span class="string">"ABC"</span>, <span class="string">"XYZ"</span>, <span class="string">"zoo"</span>&#125;;</span><br><span class="line">        String s = names[<span class="number">1</span>];</span><br><span class="line">        names[<span class="number">1</span>] = <span class="string">"cat"</span>;</span><br><span class="line">        System.out.println(s); <span class="comment">// s是"XYZ"还是"cat"?  "XYZ" </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>数组元素可以是值类型（如int）或引用类型（如String），但数组本身是引用类型；</li>
<li>数组是同一数据类型的集合，数组一旦创建后，大小就不可变；</li>
<li>可以通过索引访问数组元素，但索引超出范围将报错；</li>
</ul>
</li>
<li><p>数组操作</p>
<ul>
<li><p>遍历数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> n : ns)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ns.length; i++)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">int</span>[] ns = &#123; <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span> &#125;;</span><br><span class="line">System.out.println(Arrays.toString(ns));</span><br></pre></td></tr></table></figure>
</li>
<li><p>数组排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">int</span>[] ns = &#123; <span class="number">28</span>, <span class="number">12</span>, <span class="number">89</span>, <span class="number">73</span>, <span class="number">65</span>&#125;;</span><br><span class="line">Arrays.sort(ns); <span class="comment">//正序</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>多维数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">int</span>[][] ns = &#123;</span><br><span class="line">            &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;,</span><br><span class="line">            &#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span> &#125;,</span><br><span class="line">            &#123; <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span> &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">System.out.println(Arrays.deepToString(ns));</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="输入与输出"><a href="#输入与输出" class="headerlink" title="输入与输出"></a>输入与输出</h3><ul>
<li><p>输出：<code>System.out.println(&quot;END&quot;);</code></p>
</li>
<li><p>格式化输出：<code>System.out.printf(&quot;%.4f\n&quot;, d);</code></p>
</li>
<li><p>占位符及说明</p>
<table>
<thead>
<tr>
<th align="left">占位符</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">%d</td>
<td align="left">格式化输出整数</td>
</tr>
<tr>
<td align="left">%x</td>
<td align="left">格式化输出十六进制整数</td>
</tr>
<tr>
<td align="left">%f</td>
<td align="left">格式化输出浮点数</td>
</tr>
<tr>
<td align="left">%e</td>
<td align="left">格式化输出科学计数法表示的浮点数</td>
</tr>
<tr>
<td align="left">%s</td>
<td align="left">格式化字符串</td>
</tr>
</tbody></table>
</li>
<li><p>输入：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in); <span class="comment">// 创建Scanner对象</span></span><br><span class="line">        System.out.print(<span class="string">"Input your name: "</span>); <span class="comment">// 打印提示</span></span><br><span class="line">        String name = scanner.nextLine(); <span class="comment">// 读取一行输入并获取字符串</span></span><br><span class="line">        System.out.print(<span class="string">"Input your age: "</span>); <span class="comment">// 打印提示</span></span><br><span class="line">        <span class="keyword">int</span> age = scanner.nextInt(); <span class="comment">// 读取一行输入并获取整数</span></span><br><span class="line">        System.out.printf(<span class="string">"Hi, %s, you are %d\n"</span>, name, age); <span class="comment">// 格式化输出</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="IF判断"><a href="#IF判断" class="headerlink" title="IF判断"></a>IF判断</h3><ul>
<li><p><code>if</code>基本语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件) &#123;</span><br><span class="line">    <span class="comment">// 条件满足时执行</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (条件) &#123;</span><br><span class="line">    <span class="comment">// </span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>判断浮点数相等时利用差值小于某个临界值来判断：<code>Math.abs(a-b)&lt;0.00001</code></li>
<li>判断引用类型的变量内容是否相等，必须使用<code>equals()</code>方法：<code>s1.equals(s2)</code></li>
</ul>
</li>
</ul>
<h3 id="SWITCH多重选择"><a href="#SWITCH多重选择" class="headerlink" title="SWITCH多重选择"></a>SWITCH多重选择</h3><ul>
<li><p><code>switch</code>语句可以做多重选择，然后执行匹配的<code>case</code>语句后续代码；<code>switch</code>的计算结果必须是整型、字符串或枚举类型；注意千万不要漏写<code>break</code>，建议打开<code>fall-through</code>警告；总是写上<code>default</code>，建议打开<code>missing default</code>警告；<strong>从Java 13开始，<code>switch</code>语句升级为表达式，不再需要<code>break</code>，并且允许使用<code>yield</code>返回值。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> option = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">switch</span> (option) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            System.out.println(<span class="string">"Selected 1"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            System.out.println(<span class="string">"Selected 2"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            System.out.println(<span class="string">"Selected 3"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="WHILE循环"><a href="#WHILE循环" class="headerlink" title="WHILE循环"></a>WHILE循环</h3><ul>
<li><p><code>while</code>基本语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (条件表达式) &#123;</span><br><span class="line">    循环语句</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 继续执行后续代码</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>do while</code>基本语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    执行循环语句</span><br><span class="line">&#125; <span class="keyword">while</span> (条件表达式);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="FOR循环"><a href="#FOR循环" class="headerlink" title="FOR循环"></a>FOR循环</h3><ul>
<li><p><code>for</code>循环基本语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (初始条件; 循环检测条件; 循环后更新计数器) &#123;</span><br><span class="line">    <span class="comment">// 执行语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="BREAK-AND-CONTINUE"><a href="#BREAK-AND-CONTINUE" class="headerlink" title="BREAK AND CONTINUE"></a>BREAK AND CONTINUE</h3><ul>
<li><code>break</code>：在循环过程中，可以使用<code>break</code>语句跳出当前循环</li>
<li><code>continue</code>：前结束本次循环，直接继续执行下次循环。</li>
</ul>
<h1 id="二、JAVA进阶"><a href="#二、JAVA进阶" class="headerlink" title="二、JAVA进阶"></a>二、JAVA进阶</h1><h2 id="面向对象编程基础"><a href="#面向对象编程基础" class="headerlink" title="面向对象编程基础"></a>面向对象编程基础</h2><h3 id="什么是面向对象？"><a href="#什么是面向对象？" class="headerlink" title="什么是面向对象？"></a>什么是面向对象？</h3><ul>
<li><p>简单来说，人就是一个<strong>对象</strong>，将人身高、年龄等特征封装到人这个对象里，定义人这个类。具体到小明、小芳这些人就被称为<strong>实例</strong>。</p>
</li>
<li><p>定义对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建实例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person ming = <span class="keyword">new</span> Person();</span><br><span class="line">ming.name = <span class="string">"Xiao Ming"</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>指向实例的变量<code>ming</code>是引用变量</li>
</ul>
</li>
</ul>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ul>
<li><p>方法（<code>method</code>）可以让外部代码安全地访问实例字段（<code>filed</code>）；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person ming = <span class="keyword">new</span> Person();</span><br><span class="line">        ming.setName(<span class="string">"Xiao Ming"</span>); <span class="comment">// 设置name</span></span><br><span class="line">        System.out.println(ming.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法是一组执行语句，并且可以执行任意逻辑；</p>
</li>
<li><p>方法内部遇到return时返回，void表示不返回任何值（注意和返回null不同）；</p>
</li>
<li><p>外部代码通过public方法操作实例，内部代码可以调用private方法；其中<code>this</code>变量是一个隐含变量，通过<code>this.field</code>就可以访问当前实例的字段。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> birth;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBirth</span><span class="params">(<span class="keyword">int</span> birth)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.birth = birth;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> calcAge(<span class="number">2019</span>); <span class="comment">// 调用private方法</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// private方法:</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">calcAge</span><span class="params">(<span class="keyword">int</span> currentYear)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> currentYear - <span class="keyword">this</span>.birth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>理解方法的参数绑定。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本类型参数绑定</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">15</span>; <span class="comment">// n的值为15</span></span><br><span class="line">        p.setAge(n); <span class="comment">// 传入n的值</span></span><br><span class="line">        System.out.println(p.getAge()); <span class="comment">// 15</span></span><br><span class="line">        n = <span class="number">20</span>; <span class="comment">// n的值改为20</span></span><br><span class="line">        System.out.println(p.getAge()); <span class="comment">// 15还是20?  15</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引用类型参数绑定</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line">        String[] fullname = <span class="keyword">new</span> String[] &#123; <span class="string">"Homer"</span>, <span class="string">"Simpson"</span> &#125;;</span><br><span class="line">        p.setName(fullname); <span class="comment">// 传入fullname数组</span></span><br><span class="line">        System.out.println(p.getName()); <span class="comment">// "Homer Simpson"</span></span><br><span class="line">        fullname[<span class="number">0</span>] = <span class="string">"Bart"</span>; <span class="comment">// fullname数组的第一个元素修改为"Bart"</span></span><br><span class="line">        System.out.println(p.getName()); <span class="comment">// "Homer Simpson"还是"Bart Simpson"?  Bart Simpson</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String[] name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name[<span class="number">0</span>] + <span class="string">" "</span> + <span class="keyword">this</span>.name[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String[] name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>基本类型参数的传递，是调用方值的复制。双方各自的后续修改，互不影响。</li>
<li>引用类型参数的传递，调用方的变量，和接收方的参数变量，指向的是同一个对象。双方任意一方对这个对象的修改，都会影响对方（因为指向同一个对象嘛）。</li>
</ul>
</li>
</ul>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><p>由于构造方法是如此特殊，所以构造方法的名称就是类名。构造方法的参数没有限制，在方法内部，也可以编写任意语句。但是，和普通方法相比，构造方法没有返回值（也没有<code>void</code>），调用构造方法，必须用<code>new</code>操作符。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p = <span class="keyword">new</span> Person(<span class="string">"Xiao Ming"</span>, <span class="number">15</span>);</span><br><span class="line">        System.out.println(p.getName());</span><br><span class="line">        System.out.println(p.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>如果一个类没有定义构造方法，编译器会自动为我们生成一个默认构造方法，它没有参数，也没有执行语句</p>
</li>
<li><p>如果既要能使用带参数的构造方法，又想保留不带参数的构造方法，那么只能把两个构造方法都定义出来：</p>
</li>
<li><p>既对字段进行初始化，又在构造方法中对字段进行初始化：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name = <span class="string">"Unamed"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>多构造方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = <span class="number">12</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>在通过<code>new</code>操作符调用的时候，编译器通过构造方法的参数数量、位置和类型自动区分</p>
</li>
<li><p>一个构造方法可以调用其他构造方法，这样做的目的是便于代码复用。调用其他构造方法的语法是<code>this(…)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(name, <span class="number">18</span>); <span class="comment">// 调用另一个构造方法Person(String, int)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="string">"Unnamed"</span>); <span class="comment">// 调用另一个构造方法Person(String)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="方法重载"><a href="#方法重载" class="headerlink" title="方法重载"></a>方法重载</h3><ul>
<li><p>这种方法名相同，但各自的参数不同，称为方法重载（<code>Overload</code>）。</p>
<p><strong>注意</strong>：方法重载的返回值类型通常都是相同的。</p>
</li>
<li><p>重载方法应该完成类似的功能，参考<code>String</code>的<code>indexOf()</code>；</p>
</li>
</ul>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><ul>
<li><p>继承是面向对象编程中非常强大的一种机制，它首先可以复用代码。当我们让<code>Student</code>从<code>Person</code>继承时，<code>Student</code>就获得了<code>Person</code>的所有功能，我们只需要为<code>Student</code>编写新增的功能。</p>
<p>Java使用<code>extends</code>关键字来实现继承：</p>
<p><strong>注意</strong>：一定要加<code>super</code>调用父类的构造方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Student s = <span class="keyword">new</span> Student(<span class="string">"Xiao Ming"</span>, <span class="number">12</span>, <span class="number">89</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> String name;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承Person</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age, <span class="keyword">int</span> score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, age); <span class="comment">// 调用父类的构造方法Person(String, int)</span></span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







</li>
</ul>
<h2 id="JAVA核心类"><a href="#JAVA核心类" class="headerlink" title="JAVA核心类"></a>JAVA核心类</h2><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><h1 id="三、JAVA参考资料"><a href="#三、JAVA参考资料" class="headerlink" title="三、JAVA参考资料"></a>三、JAVA参考资料</h1><ul>
<li><a href="https://www.liaoxuefeng.com/wiki/1252599548343744" target="_blank" rel="noopener">廖大神</a></li>
</ul>
<h1 id="四、工作常见问题"><a href="#四、工作常见问题" class="headerlink" title="四、工作常见问题"></a>四、工作常见问题</h1><p><a href="#一、JAVA基础">回到顶部</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/12/JAVA/" data-id="ck2vob2zo00073ciy14u452t5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-HIVE" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/12/HIVE/" class="article-date">
  <time datetime="2019-11-12T09:42:41.839Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/12/HIVE/">HIVE笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一、HIVE基础"><a href="#一、HIVE基础" class="headerlink" title="一、HIVE基础"></a>一、HIVE基础</h1><h2 id="1、HIVE数据类型"><a href="#1、HIVE数据类型" class="headerlink" title="1、HIVE数据类型"></a>1、HIVE数据类型</h2><p>（1）原始类型</p>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">描述</th>
<th align="center">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>Boolean</code></td>
<td align="center"><code>true</code>、<code>false</code></td>
<td align="center"><code>TRUE</code></td>
</tr>
<tr>
<td align="center"><code>TINYINT</code></td>
<td align="center">-128~127</td>
<td align="center"><code>1Y</code></td>
</tr>
<tr>
<td align="center"><code>SMALLINT</code></td>
<td align="center">-32768~32767</td>
<td align="center"><code>1S</code></td>
</tr>
<tr>
<td align="center"><code>INT</code></td>
<td align="center">4个字节的带符号整数</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center"><code>BIGINT</code></td>
<td align="center">8字节带符号整数</td>
<td align="center"><code>1L</code></td>
</tr>
<tr>
<td align="center"><code>FLOAT</code></td>
<td align="center">4字节单精度浮点数</td>
<td align="center">1.0</td>
</tr>
<tr>
<td align="center"><code>DOUBLE</code></td>
<td align="center">8字节双精度浮点数</td>
<td align="center">1.0</td>
</tr>
<tr>
<td align="center"><code>DECIMAL</code></td>
<td align="center">任意精度的带符号小数</td>
<td align="center">1.0</td>
</tr>
<tr>
<td align="center"><code>STRING</code></td>
<td align="center">字符串</td>
<td align="center"><code>‘ABC’</code></td>
</tr>
<tr>
<td align="center"><code>VARCHAR</code></td>
<td align="center">长字符串</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><code>CHAR</code></td>
<td align="center">固定长度字符串</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><code>BINARY</code></td>
<td align="center">字节数组</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><code>TIMESTAMP</code></td>
<td align="center">时间戳，纳秒精度</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><code>DATE</code></td>
<td align="center">日期</td>
<td align="center"><code>2019-10-08</code></td>
</tr>
</tbody></table>
<p>（2）复杂类型</p>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">描述</th>
<th align="center">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>ARRAY</code></td>
<td align="center">有序的的同类型的集合</td>
<td align="center"><code>array(1,2)</code></td>
</tr>
<tr>
<td align="center"><code>MAP</code></td>
<td align="center">key-value<br />key必须为原始类型，value可以任意类型</td>
<td align="center"><code>map(‘a’,1,’b’,2)</code></td>
</tr>
<tr>
<td align="center"><code>UNION</code></td>
<td align="center">在有限取值范围内的一个值</td>
<td align="center"><code>create_union(1,’a’,63)</code></td>
</tr>
<tr>
<td align="center"><code>STRUCT</code></td>
<td align="center">字段集合,类型可以不同</td>
<td align="center"><code>struct(‘1’,1,1.0)</code></td>
</tr>
</tbody></table>
<h2 id="2、HIVE数据库操作"><a href="#2、HIVE数据库操作" class="headerlink" title="2、HIVE数据库操作"></a>2、HIVE数据库操作</h2><p>（1）创建数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- 命令</span><br><span class="line">CREATE DATABASE|SCHEMA [IF NOT EXISTS] &lt;database name&gt;;</span><br><span class="line"></span><br><span class="line">-- 例子</span><br><span class="line">CREATE DATABASE IF NOT EXISTS database_name;</span><br></pre></td></tr></table></figure>

<p>（2）删除数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- 命令</span><br><span class="line">DROP DATABASE StatementDROP (DATABASE|SCHEMA) [IF EXISTS] database_name [RESTRICT|CASCADE];</span><br><span class="line"></span><br><span class="line">-- 例子</span><br><span class="line">DROP DATABASE IF EXISTS userdb;</span><br></pre></td></tr></table></figure>

<h2 id="3、HIVE表操作"><a href="#3、HIVE表操作" class="headerlink" title="3、HIVE表操作"></a>3、HIVE表操作</h2><p>（1）创建表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-- 命令</span><br><span class="line">CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS] [db_name.] table_name</span><br><span class="line">[(col_name data_type [COMMENT col_comment], ...)]</span><br><span class="line">[COMMENT table_comment]</span><br><span class="line">[ROW FORMAT row_format]</span><br><span class="line">[STORED AS file_format]</span><br><span class="line"></span><br><span class="line">-- 例子</span><br><span class="line">CREATE TABLE IF NOT EXISTS employee</span><br><span class="line">(eid int, </span><br><span class="line"> name String,</span><br><span class="line"> salary String, </span><br><span class="line"> destination String)</span><br><span class="line">COMMENT ‘Employee details’</span><br><span class="line">ROW FORMAT DELIMITED</span><br><span class="line">FIELDS TERMINATED BY ‘\t’</span><br><span class="line">LINES TERMINATED BY ‘\n’</span><br><span class="line">STORED AS TEXTFILE;</span><br></pre></td></tr></table></figure>

<p>（2）修改表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-- 重命名表</span><br><span class="line">ALTER TABLE name RENAME TO new_name</span><br><span class="line"></span><br><span class="line">ALTER TABLE employee RENAME TO emp;</span><br><span class="line"></span><br><span class="line">-- 添加列</span><br><span class="line">ALTER TABLE name ADD COLUMNS (col_spec[, col_spec ...])</span><br><span class="line"></span><br><span class="line">ALTER TABLE employee ADD COLUMNS (</span><br><span class="line">    dept STRING COMMENT &apos;Department name&apos;);</span><br><span class="line"></span><br><span class="line">-- 删除列</span><br><span class="line">ALTER TABLE name DROP [COLUMN] column_name</span><br><span class="line"></span><br><span class="line">-- 更改列属性</span><br><span class="line">ALTER TABLE name CHANGE column_name new_name new_type</span><br><span class="line"></span><br><span class="line">ALTER TABLE employee CHANGE salary salary Double;</span><br><span class="line"></span><br><span class="line">-- 替换列</span><br><span class="line">ALTER TABLE name REPLACE COLUMNS (col_spec[, col_spec ...])</span><br><span class="line"></span><br><span class="line">ALTER TABLE employee REPLACE COLUMNS (</span><br><span class="line">    eid INT empid Int,</span><br><span class="line">    ename STRING name String);</span><br></pre></td></tr></table></figure>

<p>（3）删除表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE [IF EXISTS] table_name;</span><br></pre></td></tr></table></figure>

<h2 id="4、HIVE表数据操作"><a href="#4、HIVE表数据操作" class="headerlink" title="4、HIVE表数据操作"></a>4、HIVE表数据操作</h2><p>（1）插入数据</p>
<ul>
<li><code>LOAD DATA</code>：从<code>HDFS</code>中加载数据会直接<code>move</code>！</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">--命令</span><br><span class="line">LOAD DATA [LOCAL] INPATH &apos;filepath&apos; [OVERWRITE] INTO TABLE tablename [PARTITION (partcol1=val1, partcol2=val2 ...)]</span><br><span class="line"></span><br><span class="line">--例子</span><br><span class="line">LOAD DATA LOCAL INPATH &apos;/home/user/sample.txt&apos; OVERWRITE INTO TABLE employee;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>INSERT INTO</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into table account </span><br><span class="line">select id, age, name from account_tmp;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>INSERT OVERWRITE</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert overwrite table account2 </span><br><span class="line">select id, age, name from account_tmp;</span><br></pre></td></tr></table></figure>

<p><strong><em>注意</em></strong>：</p>
<p><code>insert overwrite</code>会覆盖已经存在的数据，假如原始表使用<code>overwrite</code>上述的数据，先现将原始表的数据<code>remove</code>，再插入新数据。</p>
<p><code>insert into</code>只是简单的插入，不考虑原始表的数据，直接追加到表中。</p>
<p>（2）修改数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE tablename SET column = value [, column = value ...] [WHERE expression]</span><br></pre></td></tr></table></figure>

<p>（3）删除数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM tablename [WHERE expression]</span><br></pre></td></tr></table></figure>

<h2 id="5、HIVE分区操作"><a href="#5、HIVE分区操作" class="headerlink" title="5、HIVE分区操作"></a>5、HIVE分区操作</h2><p>（1）添加分区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 命令</span><br><span class="line">ALTER TABLE table_name ADD [IF NOT EXISTS] PARTITION (p_column = p_col_value, p_column = p_col_value, ...)</span><br><span class="line">[LOCATION &apos;location1&apos;] (p2_column = p2_col_value, p2_column = p2_col_value, ...) [LOCATION &apos;location2&apos;] ...;</span><br><span class="line"></span><br><span class="line">-- 例子</span><br><span class="line">ALTER TABLE employee ADD PARTITION (year=’2013’) location &apos;/2012/part2012&apos;;</span><br></pre></td></tr></table></figure>

<p>（2）重命名分区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- 命令</span><br><span class="line">ALTER TABLE table_name PARTITION partition_spec RENAME TO PARTITION partition_spec;</span><br><span class="line"></span><br><span class="line">-- 例子</span><br><span class="line">ALTER TABLE employee PARTITION (year=’1203’) RENAME TO PARTITION (Yoj=’1203’);</span><br></pre></td></tr></table></figure>

<p>（3）删除分区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- 命令</span><br><span class="line">ALTER TABLE table_name DROP [IF EXISTS] PARTITION partition_spec, PARTITION partition_spec,...;</span><br><span class="line"></span><br><span class="line">-- 例子</span><br><span class="line">ALTER TABLE employee DROP [IF EXISTS] PARTITION (year=’1203’);</span><br></pre></td></tr></table></figure>

<h2 id="6、HIVE内置运算符"><a href="#6、HIVE内置运算符" class="headerlink" title="6、HIVE内置运算符"></a>6、HIVE内置运算符</h2><p>（1）关系运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>A = B</td>
<td>所有基本类型</td>
<td></td>
</tr>
<tr>
<td>A != B</td>
<td>所有基本类型</td>
<td></td>
</tr>
<tr>
<td>A &lt; B</td>
<td>所有基本类型</td>
<td></td>
</tr>
<tr>
<td>A &lt;= B</td>
<td>所有基本类型</td>
<td></td>
</tr>
<tr>
<td>A &gt; B</td>
<td>所有基本类型</td>
<td></td>
</tr>
<tr>
<td>A &gt;= B</td>
<td>所有基本类型</td>
<td></td>
</tr>
<tr>
<td>A IS NULL</td>
<td>所有类型</td>
<td></td>
</tr>
<tr>
<td>A IS NOT NULL</td>
<td>所有类型</td>
<td></td>
</tr>
<tr>
<td>A LIKE B</td>
<td>字符串</td>
<td>TRUE，如果字符串模式A匹配到B，<br />否则FALSE。</td>
</tr>
<tr>
<td>A RLIKE B</td>
<td>字符串</td>
<td>TRUE：A任何子字符串匹配Java正则表达式B；</td>
</tr>
<tr>
<td>A REGEXP B</td>
<td>字符串</td>
<td>等同于RLIKE.</td>
</tr>
</tbody></table>
<p>（2）算术运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>A + B</td>
<td>所有数字类型</td>
<td></td>
</tr>
<tr>
<td>A - B</td>
<td>所有数字类型</td>
<td></td>
</tr>
<tr>
<td>A * B</td>
<td>所有数字类型</td>
<td></td>
</tr>
<tr>
<td>A / B</td>
<td>所有数字类型</td>
<td></td>
</tr>
<tr>
<td>A % B</td>
<td>所有数字类型</td>
<td></td>
</tr>
<tr>
<td>A &amp; B</td>
<td>所有数字类型</td>
<td>A和B的按位与结果</td>
</tr>
<tr>
<td>A | B</td>
<td>所有数字类型</td>
<td>A和B的按位或结果</td>
</tr>
<tr>
<td>A ^ B</td>
<td>所有数字类型</td>
<td>A和B的按位异或结果</td>
</tr>
<tr>
<td>~ A</td>
<td>所有数字类型</td>
<td>A按位非的结果</td>
</tr>
</tbody></table>
<p>（3）逻辑运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>A AND B</td>
<td>Boolean</td>
<td>与</td>
</tr>
<tr>
<td>A &amp;&amp; B</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>A OR B</td>
<td>Boolean</td>
<td>或</td>
</tr>
<tr>
<td>A || B</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>NOT A</td>
<td>Boolean</td>
<td>非</td>
</tr>
<tr>
<td>! A</td>
<td>Boolean</td>
<td></td>
</tr>
</tbody></table>
<p>（4）复杂运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>A[n]</td>
<td>A是一个数组，n是一个int</td>
<td>它返回数组A的第n+1个元素，第一个元素的索引0。</td>
</tr>
<tr>
<td>M[Key]</td>
<td>M 是一个 Map&lt;K, V&gt; 并 key 的类型为K</td>
<td>它返回对应于映射中关键字的值。</td>
</tr>
<tr>
<td>S.x</td>
<td>S 是一个结构</td>
<td>它返回S的s字段</td>
</tr>
</tbody></table>
<h2 id="7、HIVE内置函数"><a href="#7、HIVE内置函数" class="headerlink" title="7、HIVE内置函数"></a>7、HIVE内置函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">-- 返回BIGINT最近的double值。</span><br><span class="line">round(double a)</span><br><span class="line"></span><br><span class="line">-- 返回最大BIGINT值等于或小于double。</span><br><span class="line">floor(double a)</span><br><span class="line"></span><br><span class="line">-- 它返回最小BIGINT值等于或大于double。</span><br><span class="line">ceil(double a)</span><br><span class="line"></span><br><span class="line">-- 它返回一个随机数，从行改变到行。</span><br><span class="line">rand()</span><br><span class="line">rand(int seed)</span><br><span class="line"></span><br><span class="line">-- 它返回从A后串联B产生的字符串</span><br><span class="line">concat(string A, string B, ...)</span><br><span class="line"></span><br><span class="line">-- 它返回一个起始位置start到A结束的子字符串</span><br><span class="line">substr(string A, int start)</span><br><span class="line"></span><br><span class="line">-- 返回从给定长度length的从起始位置start开始的字符串。</span><br><span class="line">substr(string A, int start, int length)</span><br><span class="line"></span><br><span class="line">-- 它返回转换所有字符为大写的字符串。</span><br><span class="line">upper(string A)</span><br><span class="line">ucase(string A)</span><br><span class="line"></span><br><span class="line">-- 它返回转换所有字符为小写的字符串。</span><br><span class="line">lower(string A)</span><br><span class="line">lcase(string A)</span><br><span class="line"></span><br><span class="line">-- 它返回字符串从A两端修剪空格的结果</span><br><span class="line">trim(string A)</span><br><span class="line"></span><br><span class="line">-- 它返回从A左边开始修整空格产生的字符串(左手侧)</span><br><span class="line">ltrim(string A)</span><br><span class="line"></span><br><span class="line">-- 它返回从A右边开始修整空格产生的字符串(右侧)</span><br><span class="line">rtrim(string A)</span><br><span class="line"></span><br><span class="line">-- 它返回将A中的子字符串B替换为C的全新字符串</span><br><span class="line">regexp_replace(string A, string B, string C)</span><br><span class="line"></span><br><span class="line">-- 它返回在映射类型或数组类型的元素的数量。</span><br><span class="line">size(Map&lt;K.V&gt;)</span><br><span class="line">size(Array&lt;T&gt;)</span><br><span class="line"></span><br><span class="line">-- 将字段expr的数据类型转换为type。如果转换不成功，返回的是NULL。</span><br><span class="line">cast(&lt;expr&gt; as &lt;type&gt;)</span><br><span class="line"></span><br><span class="line">-- 将10位的时间戳值unixtime转为日期函数</span><br><span class="line">from_unixtime(int unixtime, &apos;yyyy-MM-dd HH:mm:ss&apos;)</span><br><span class="line"></span><br><span class="line">-- 返回一个字符串时间戳的日期部分：to_date(&quot;1970-01-01 00:00:00&quot;) = &quot;1970-01-01&quot;</span><br><span class="line">to_date(string timestamp, &apos;yyyy-MM-dd&apos;)</span><br><span class="line"></span><br><span class="line">-- 返回指定日期的unix时间戳</span><br><span class="line">unix_timestamp(string date, &apos;yyyy-MM-dd HH:mm:ss&apos;)  -- date的形式必须为’yyyy-MM-dd HH:mm:ss’的形式</span><br><span class="line">unix_timestamp()  -- 返回当前时间的unix时间戳</span><br><span class="line"></span><br><span class="line">-- 返回时间字段中的年月日</span><br><span class="line">year(string date, &apos;yyMMdd&apos;)  -- 年</span><br><span class="line">month(string date, &apos;yyMMdd&apos;)  -- 月</span><br><span class="line">day(string date, &apos;yyMMdd&apos;)  -- 日</span><br><span class="line"></span><br><span class="line">-- 返回时间字段是本年的第多少周</span><br><span class="line">weekofyear(string date, &apos;yyMMdd&apos;)</span><br><span class="line"></span><br><span class="line">-- 返回enddate与begindate之间的时间差的天数</span><br><span class="line">datediff(string enddate,string begindate)</span><br><span class="line"></span><br><span class="line">select datediff(‘2016-06-01’,’2016-05-01’) from hive_sum limit 1;</span><br><span class="line"></span><br><span class="line">-- 返回date增加days天后的日期</span><br><span class="line">date_add(string date,int days)</span><br><span class="line"></span><br><span class="line">-- 返回date减少days天后的日期</span><br><span class="line">date_sub(string date,int days)</span><br><span class="line"></span><br><span class="line">-- 提取从基于指定的JSON路径的JSON字符串JSON对象，并返回提取的JSON字符串的JSON对象。</span><br><span class="line">get_json_object(string json_string, string path)</span><br><span class="line"></span><br><span class="line">-- 返回检索行的总数。</span><br><span class="line">count(*)</span><br><span class="line">count(expr)</span><br><span class="line"></span><br><span class="line">-- 返回该组或该组中的列的不同值的分组和所有元素的总和。</span><br><span class="line">sum(col)</span><br><span class="line">sum(DISTINCT col)</span><br><span class="line"></span><br><span class="line">-- 返回上述组或该组中的列的不同值的元素的平均值。</span><br><span class="line">avg(col)</span><br><span class="line">avg(DISTINCT col)</span><br><span class="line"></span><br><span class="line">-- 返回该组中的列的最大最小值。</span><br><span class="line">min(col)</span><br><span class="line">max(col)</span><br></pre></td></tr></table></figure>

<h2 id="8、HIVE视图和索引"><a href="#8、HIVE视图和索引" class="headerlink" title="8、HIVE视图和索引"></a>8、HIVE视图和索引</h2><p>（1）创建视图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 命令</span><br><span class="line">CREATE VIEW [IF NOT EXISTS] view_name [(column_name [COMMENT column_comment], ...) ]</span><br><span class="line">[COMMENT table_comment]</span><br><span class="line">AS SELECT ...</span><br><span class="line"></span><br><span class="line">-- 例子</span><br><span class="line">CREATE VIEW emp_30000 AS</span><br><span class="line">SELECT * FROM employee</span><br><span class="line">WHERE salary&gt;30000;</span><br></pre></td></tr></table></figure>

<p>（2）删除视图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW view_name</span><br></pre></td></tr></table></figure>

<p>（3）创建索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-- 命令</span><br><span class="line">CREATE INDEX index_name</span><br><span class="line">ON TABLE base_table_name (col_name, ...)</span><br><span class="line">AS &apos;index.handler.class.name&apos;</span><br><span class="line">[WITH DEFERRED REBUILD]</span><br><span class="line">[IDXPROPERTIES (property_name=property_value, ...)]</span><br><span class="line">[IN TABLE index_table_name]</span><br><span class="line">[PARTITIONED BY (col_name, ...)]</span><br><span class="line">[</span><br><span class="line">   [ ROW FORMAT ...] STORED AS ...</span><br><span class="line">   | STORED BY ...</span><br><span class="line">]</span><br><span class="line">[LOCATION hdfs_path]</span><br><span class="line">[TBLPROPERTIES (...)]</span><br><span class="line"></span><br><span class="line">-- 例子：使用字段 Id, Name, Salary, Designation, 和 Dept创建一个名为index_salary的索引，对employee 表的salary列索引。</span><br><span class="line">CREATE INDEX inedx_salary ON TABLE employee(salary)</span><br><span class="line">AS &apos;org.apache.hadoop.hive.ql.index.compact.CompactIndexHandler&apos;;</span><br></pre></td></tr></table></figure>

<p>（4）删除索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP INDEX &lt;index_name&gt; ON &lt;table_name&gt;</span><br></pre></td></tr></table></figure>

<h1 id="二、HIVE进阶"><a href="#二、HIVE进阶" class="headerlink" title="二、HIVE进阶"></a>二、HIVE进阶</h1><h2 id="1、HIVE-SELECT-数据"><a href="#1、HIVE-SELECT-数据" class="headerlink" title="1、HIVE SELECT 数据"></a>1、HIVE SELECT 数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT [ALL | DISTINCT] select_expr, select_expr, ... </span><br><span class="line">FROM table_reference </span><br><span class="line">[WHERE where_condition] </span><br><span class="line">[GROUP BY col_list] </span><br><span class="line">[HAVING having_condition] </span><br><span class="line">[CLUSTER BY col_list | [DISTRIBUTE BY col_list] [SORT BY col_list]] </span><br><span class="line">[ORDER BY col_list]</span><br><span class="line">[LIMIT number];</span><br></pre></td></tr></table></figure>

<h2 id="2、命令执行顺序"><a href="#2、命令执行顺序" class="headerlink" title="2、命令执行顺序"></a>2、命令执行顺序</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 大致顺序</span><br><span class="line">from... where.... select... group by... having ... order by...</span><br></pre></td></tr></table></figure>

<p><strong>备注：</strong>hive语句和mysql都可以通过explain查看执行计划，使用explain + hive语句</p>
<h1 id="三、HIVE参考书籍"><a href="#三、HIVE参考书籍" class="headerlink" title="三、HIVE参考书籍"></a>三、HIVE参考书籍</h1><ul>
<li><a href="https://www.yiibai.com/hive/" target="_blank" rel="noopener">易百教程</a></li>
</ul>
<h1 id="四、工作常见问题"><a href="#四、工作常见问题" class="headerlink" title="四、工作常见问题"></a>四、工作常见问题</h1><h2 id="1、HIVE-在指定位置添加字段"><a href="#1、HIVE-在指定位置添加字段" class="headerlink" title="1、HIVE 在指定位置添加字段"></a>1、HIVE 在指定位置添加字段</h2><ul>
<li><p>首先添加字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table table_name add columns (c_time string comment &apos;当前时间&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>其次更改字段的顺序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table table_name change c_time c_time string after address;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="2、HIVE创建表时指定文件格式"><a href="#2、HIVE创建表时指定文件格式" class="headerlink" title="2、HIVE创建表时指定文件格式"></a>2、HIVE创建表时指定文件格式</h2><ul>
<li><p><strong>TEXTFIEL</strong></p>
<p>默认格式，数据不做压缩，磁盘开销大，数据解析开销大。<br>可结合Gzip、Bzip2使用（系统自动检查，执行查询时自动解压），但使用这种方式，hive不会对数据进行切分，从而无法对数据进行并行操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 固定格式</span><br><span class="line">create table test1(str STRING)  </span><br><span class="line">STORED AS TEXTFILE;</span><br><span class="line"></span><br><span class="line">-- 自定义格式</span><br><span class="line">create table test1(str STRING)  </span><br><span class="line">STORED AS</span><br><span class="line">INPUTFORMAT &apos;org.apache.hadoop.mapred.TextInputFormat&apos;</span><br><span class="line">OUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>SEQUENCEFILE</strong></p>
<p>SequenceFile是Hadoop API提供的一种二进制文件支持，其具有使用方便、可分割、可压缩的特点。<br>SequenceFile支持三种压缩选择：NONE, RECORD, BLOCK。 Record压缩率低，一般建议使用BLOCK压缩。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 固定格式</span><br><span class="line">create table test1(str STRING)  </span><br><span class="line">STORED AS SEQUENCEFILE;</span><br><span class="line"></span><br><span class="line">-- 自定义格式</span><br><span class="line">create table test1(str STRING)  </span><br><span class="line">STORED AS</span><br><span class="line">INPUTFORMAT &apos;org.apache.hadoop.mapred.SequenceFileInputFormat&apos;</span><br><span class="line">OUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>RCFILE</strong></p>
<p>RCFILE是一种行列存储相结合的存储方式。首先，其将数据按行分块，保证同一个record在一个块上，避免读一个记录需要读取多个block。其次，块数据列式存储，有利于数据压缩和快速的列存取。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 固定格式</span><br><span class="line">create table test1(str STRING)  </span><br><span class="line">STORED AS RCFILE;</span><br><span class="line"></span><br><span class="line">-- 自定义格式</span><br><span class="line">create table test1(str STRING)  </span><br><span class="line">STORED AS</span><br><span class="line">INPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.RCFileInputFormat&apos;</span><br><span class="line">OUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.RCFileOutputFormat&apos;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="3、HIVE同时拆分多列为多行，链接"><a href="#3、HIVE同时拆分多列为多行，链接" class="headerlink" title="3、HIVE同时拆分多列为多行，链接"></a>3、HIVE同时拆分多列为多行，<a href="https://stackoverflow.com/questions/37585638/hive-split-delimited-columns-over-multiple-rows-select-based-on-position?rq=1" target="_blank" rel="noopener">链接</a></h2><p><strong>问题：</strong></p>
<p>I’m Looking for a way to split the column based on comma delimited data. Below is my dataset</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id  col1  col2</span><br><span class="line">1   5,6   7,8</span><br></pre></td></tr></table></figure>

<p>I want to get the result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id col1 col2</span><br><span class="line">1  5    7</span><br><span class="line">1  6    8</span><br></pre></td></tr></table></figure>

<p><strong>答案：</strong></p>
<p>You can use <code>posexplode()</code> to create position index columns for your split arrays. Then, select only those rows where the position indices are equal.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT id, col3, col4</span><br><span class="line">  FROM test</span><br><span class="line">  lateral VIEW posexplode(split(col1,&apos;\002&apos;)) col1 AS pos3, col3</span><br><span class="line">  lateral VIEW posexplode(split(col2,&apos;\002&apos;)) col2 AS pos4, col4</span><br><span class="line">  WHERE pos3 = pos4;</span><br></pre></td></tr></table></figure>

<p>Output:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id col3 col4</span><br><span class="line">1  5    7</span><br><span class="line">1  6    8</span><br></pre></td></tr></table></figure>

<h2 id="4、-Hive或spark中执行sql字符常量包含-时会报错"><a href="#4、-Hive或spark中执行sql字符常量包含-时会报错" class="headerlink" title="4、 Hive或spark中执行sql字符常量包含;时会报错"></a>4、 Hive或spark中执行sql字符常量包含<code>;</code>时会报错</h2><p>比如</p>
<blockquote>
<p>select instr(‘abc;abc’, ‘;’);</p>
</blockquote>
<p>报错</p>
<blockquote>
<p>NoViableAltException(-1@[147:1: selectExpression : ( expression | tableAllColumns );])</p>
</blockquote>
<p><strong>修改：</strong>需要将<code>;</code>改为<code>ascii</code></p>
<blockquote>
<p>select instr(‘abc\073abc’, ‘\073’);</p>
</blockquote>
<p><a href="#一、HIVE基础">回到顶部</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/12/HIVE/" data-id="ck2vob2zc00063ciy1r4keet2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Hadoop" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/12/Hadoop/" class="article-date">
  <time datetime="2019-11-12T09:42:41.833Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/12/Hadoop/">Hadoop笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一、Hadoop介绍"><a href="#一、Hadoop介绍" class="headerlink" title="一、Hadoop介绍"></a>一、<code>Hadoop</code>介绍</h1><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p><a href="#一、`Hadoop`介绍">回到顶部</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/12/Hadoop/" data-id="ck2vob2yv00003ciy71tv7uhc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Computational_advertising" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/12/Computational_advertising/" class="article-date">
  <time datetime="2019-11-12T09:42:41.827Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/12/Computational_advertising/">计算广告笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一、名词解释"><a href="#一、名词解释" class="headerlink" title="一、名词解释"></a>一、名词解释</h1><h2 id="广告主"><a href="#广告主" class="headerlink" title="广告主"></a>广告主</h2><p>有广告需求的客户公司，也称为需求方</p>
<h2 id="媒体"><a href="#媒体" class="headerlink" title="媒体"></a>媒体</h2><p>可以是网站或者<code>app</code>，即有多余的广告位可以出售，也称为供给方</p>
<h2 id="RTB：（Real-Time-Bidding，实时竞价）"><a href="#RTB：（Real-Time-Bidding，实时竞价）" class="headerlink" title="RTB：（Real Time Bidding，实时竞价）"></a><code>RTB</code>：（<code>Real Time Bidding</code>，实时竞价）</h2><p>综合利用算法、大数据技术在网站或移动应用上对在线的流量实时评估价值，然后出价的竞价技术</p>
<h2 id="DSP（需求方平台）"><a href="#DSP（需求方平台）" class="headerlink" title="DSP（需求方平台）"></a><code>DSP</code>（需求方平台）</h2><p>为各广告主或者代理商提供实时竞价投放平台，可以在该平台上管理广告活动及其投放策略，并且通过技术和算法优化投放效果，从中获得收益</p>
<h2 id="SSP（供应方平台）"><a href="#SSP（供应方平台）" class="headerlink" title="SSP（供应方平台）"></a><code>SSP</code>（供应方平台）</h2><p>为各媒体提供一致、集成的广告位库存管理环境</p>
<h2 id="DMP（数据管理平台）"><a href="#DMP（数据管理平台）" class="headerlink" title="DMP（数据管理平台）"></a><code>DMP</code>（数据管理平台）</h2><p>整合各方数据并提供数据分析，数据管理、数据调用等，用来指导广告主进行广告优化和投放决策</p>
<h2 id="ADX（Ad-Exchange，广告交易平台）"><a href="#ADX（Ad-Exchange，广告交易平台）" class="headerlink" title="ADX（Ad Exchange，广告交易平台）"></a><code>ADX</code>（Ad Exchange，广告交易平台）</h2><p>同时接入了大量的<code>DSP</code>和<code>SSP</code>，给双方提供一个“交易场所”，将<code>SSP</code>方的广告展示需求以拍卖的方式卖给<code>DSP</code>方。可以类比于股票交易中的证券大厅角色</p>
<h2 id="CTR（点击率）"><a href="#CTR（点击率）" class="headerlink" title="CTR（点击率）"></a><code>CTR</code>（点击率）</h2><p>广告点击与广告展现的比例，这是广告主、各大<code>DSP</code>厂商都非常重视的一个数字，从技术角度看，这一数字可以影响到广告的排序、出价等环节，从业务来看，这是运营人员的考核指标之一</p>
<h2 id="CVR（转化率）"><a href="#CVR（转化率）" class="headerlink" title="CVR（转化率）"></a><code>CVR</code>（转化率）</h2><p>转化（主要由广告主定义，可以是一次下单或是一次下载<code>app</code>等）次数与到达次数的比例</p>
<h2 id="eCPM（千次展示期望收入）"><a href="#eCPM（千次展示期望收入）" class="headerlink" title="eCPM（千次展示期望收入）"></a><code>eCPM</code>（千次展示期望收入）</h2><p>点击率 * 点击价值，这个数字在计算广告中是核心指标，涉及到对召回广告的排序策略，以及最终出价策略</p>
<h2 id="CPM（Cost-per-mile）"><a href="#CPM（Cost-per-mile）" class="headerlink" title="CPM（Cost per mile）"></a><code>CPM</code>（Cost per mile）</h2><p>每千次展现收费，最常见的广告模式，即不考虑点击次数、转化次数，只要广告在网站上被展现给一千个人看到就收费，是大型网站变现的最有效的方式。对广告主来说，适合于注重推广品牌的广告，力求最快最广的触及大众</p>
<h2 id="CPC（Cost-per-click）"><a href="#CPC（Cost-per-click）" class="headerlink" title="CPC（Cost per click）"></a><code>CPC</code>（Cost per click）</h2><p>每次点击收费，无论广告被展现了多少次，只要没有产生点击就不收费。对于广告主来说选择 <code>CPC</code> 模式可以有助于提升点击量、发现潜在用户，进而可以真正做到精准营销；对于广大<code>DSP</code>厂商来说，这种收费模式也是获取利润的最有效来源之一</p>
<h2 id="CPA（Cost-per-action）"><a href="#CPA（Cost-per-action）" class="headerlink" title="CPA（Cost per action）"></a><code>CPA</code>（Cost per action）</h2><p>每次动作收费，此处的动作一般定义为转化，可以是注册、咨询、交易、下载、留言等等，按照转化的数量来收费。对于广告主来说，这是性价比较高的一种收费方式，但是对于DPS和媒体方来说，想要把这种收费做好，却是有相当的难度。因此，目前也只有大厂或者技术实力深厚的<code>DSP</code>厂商才有能力接这种单子</p>
<h1 id="二、竞价流程"><a href="#二、竞价流程" class="headerlink" title="二、竞价流程"></a>二、竞价流程</h1><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><ol>
<li>用户通过浏览器访问网站</li>
<li>浏览器发送广告请求给网站服务器，即<code>SSP</code>方</li>
<li><code>SSP</code>将广告展示需求发送给<code>Adx</code></li>
<li><code>Adx</code>组织一次竞价，将本次的竞价请求通知给所有<code>DSP</code>方，并传输用户<code>ID</code>、用户<code>IP</code>以及广告位信息等等</li>
<li>各家<code>DSP</code>监听服务收到<code>Adx</code>发来的竞价请求后，根据发送来的当前用户的信息、上下文信息、代理的广告主信息对照投放需求，评估该请求</li>
<li>各家<code>DSP</code>将根据评估结果决定是否参与出价，若参与，则将出价结果通知<code>Adx</code></li>
<li><code>Adx</code>收到所有出价响应后根据出价排序，通知出价最高的<code>DSP</code>胜出，同时将胜者的竞价信息告知<code>SSP</code></li>
<li>胜者<code>DSP</code>会收到<code>Adx</code>发送的竞价消息（<code>WinNotice</code>），表示该次展现已经竞价成功。<code>DSP</code>此时将广告物料传送至浏览器展示。至此，一次完整的竞价流程就完成了。</li>
</ol>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>有两点需要说明：</p>
<ol>
<li>以上流程需在100毫秒之内完成，也就是一眨眼的功夫都不到，这样才能让访问网站的用户马上看到广告。</li>
<li>虽然竞价最后的胜者是出价最高的<code>DSP</code>，但其实际支付的价格是出价第二高的报价再加上一个最小值，这就是著名的广义二阶拍卖(<code>GSP</code>)。这种定价模式的好处主要是为了避免各家<code>DSP</code>在多次竞价中，下一次的出价只需比上一次的胜出价格高一点点即可，从而导致出价越来越低。在<code>GSP</code>模式下，每个胜者只需要支付次高出价的金额，这样各家<code>DSP</code>也就没有动力相互压价。<code>GSP</code>是一种稳定的竞价方式，可操作性很强，现阶段几乎所有的互联网广告平台都使用这一种竞价方式。</li>
</ol>
<h1 id="三、技术细节"><a href="#三、技术细节" class="headerlink" title="三、技术细节"></a>三、技术细节</h1><h2 id="典型广告系统架构"><a href="#典型广告系统架构" class="headerlink" title="典型广告系统架构"></a>典型广告系统架构</h2><p><strong>（1）受众定向平台：</strong>利用数据挖掘、机器学习等技术进行受众定向、点击率预估等工作。具体可以细分为以下几个模块：</p>
<ul>
<li><strong>会话日志生成（Session log generation）</strong>：从各个数据平台收集日志，并最终根据用户ID为主键汇集成一份统一存储格式的日志，为后续的数据分析、算法构建提供数据来源。</li>
<li><strong>行为定向（Audience targeting）</strong>：从会话日志中提取数据，利用数据挖掘、机器学习等算法建模，刻画出用户的行为模式、兴趣点等，最终为用户打上结构化标签，以供广告定向投放使用。</li>
<li><strong>点击率建模（Click modeling）</strong>：从会话日志中提取预定义的特征，训练点击率模型，加载到缓存中供线上投放系统决策时使用。</li>
<li><strong>商业智能模块（Business Intelligence）</strong>：包括ETL（Extract-Transform-Load）过程、Dashboard、cube。BI系统可以为决策者提供直观且即时的数据分析，而算法对决策者来说相当于黑盒，因此，设计一个良好的BI系统可以为决策提供有力的帮助。</li>
</ul>
<p><strong>（2）高并发的投送系统</strong>：即在线的广告投放机（Ad server），主要任务是与各模块交互，将它们串联起来完成在线的广告投放决策。特点是高并发，要做到10 ms级别的实时决策，百亿次/天的广告投放系统。具体可细分为以下几个模块：</p>
<ul>
<li><strong>广告检索（Ad retrieval）</strong>：也称为广告召回，即根据用户属性以及页面上下文属性从广告索引（Ad index）中查找符合条件的广告候选。</li>
<li><strong>广告排序（Ad ranking）</strong>：主要功能是对广告检索模块送来的广告候选集计算eCPM，并按照值的大小倒排。eCPM的计算依赖于受众定向平台离线计算好的点击率。由于最终投放出的广告都是来自于排序的结果，因此这一模块也是至关重要，成为各种算法模型和策略大展身手的地方。</li>
<li><strong>收益管理（Yield management）</strong>：将局部广告排序的结果进一步优化，以做到全局最优收益。</li>
</ul>
<p><strong>（3）数据高速公路：</strong>联通在线与离线。作用是准实时地将日志推送到其它平台上，一是快速地反馈到线上系统中，二是给BI人员快速看结果。它还可能收集其它平台的日志，比如搜索广告会收集搜索日志。</p>
<p><strong>（4）流式计算平台：</strong>主要功能是对在线数据的处理，做到准实时的挖掘和反馈，解决那些离线计算平台无法快速响应的计算问题。具体又可分为：</p>
<ul>
<li><strong>实时受众定向（Real-time targeting）</strong>和<strong>实时点击反馈（Real-time click feedback）</strong>：对用户的实时行为进行计算，如实时更新点击率模型、动态调整用户标签，进而更好的适应线上环境。</li>
<li><strong>计费（Billing）</strong>：该模块掌管着广告系统的“钱袋子”，运行的准确性和稳定性直接影响了系统的收益。在广告投放过程中，经常会遇到投放预算用完的情况，这时计费模块必须及时反应，采取例如通知索引系统暂时将广告下线的办法，避免带来损失。</li>
<li><strong>反作弊（Anti-spam）</strong>：利用算法和人工规则等实时判断流量来源中是否有作弊流量，并将这部分流量从后续的计价和统计中去掉，是广告业务非常重要的部分。</li>
</ul>
<h2 id="硬件"><a href="#硬件" class="headerlink" title="硬件"></a>硬件</h2><p><strong>（1）<code>Hadoop</code>：</strong>详情请见<a href="Hadoop.md">hadoop.md</a></p>
<p><strong>（2）<code>Spark</code>：</strong>详情请见<a href="Spark.md">Spark.md</a></p>
<p><strong>（3）<code>Lucene</code>：</strong>详情请见<a href="Lucene.md">Lucene.md</a></p>
<p><strong>（4）<code>Storm</code>：</strong>详情请见<a href="Storm.md">Storm.md</a></p>
<p><strong>（5）<code>ZooKeeper</code>：</strong>详情请见<a href="Zookeeper.md">Zookeeper.md</a></p>
<h2 id="核心算法"><a href="#核心算法" class="headerlink" title="核心算法"></a>核心算法</h2><p>详情请见<a href="https://zhuanlan.zhihu.com/p/60544294" target="_blank" rel="noopener">参考文章</a>核心算法篇</p>
<h1 id="四、-参考书籍-amp-论文"><a href="#四、-参考书籍-amp-论文" class="headerlink" title="四、 参考书籍&amp;论文"></a>四、 参考书籍&amp;论文</h1><ul>
<li><p>《计算广告》 刘鹏 / 王超</p>
</li>
<li><p><a href="https://zhuanlan.zhihu.com/p/60544294" target="_blank" rel="noopener">计算广告系统算法与架构综述</a></p>
</li>
</ul>
<p><a href="#一、名词解释">回到顶部</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/12/Computational_advertising/" data-id="ck2vob2zb00053ciy147bclno" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/11/12/Recommendation_algorithm/">推荐算法笔记</a>
          </li>
        
          <li>
            <a href="/2019/11/12/PYTHON/">PYTHON笔记</a>
          </li>
        
          <li>
            <a href="/2019/11/12/LINUX/">LINUX笔记</a>
          </li>
        
          <li>
            <a href="/2019/11/12/Knowledge_Topology/">学习清单</a>
          </li>
        
          <li>
            <a href="/2019/11/12/JAVA/">JAVA笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>